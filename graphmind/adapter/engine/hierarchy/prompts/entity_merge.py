system_prompt = (
    "你是一位知识整合和分析的专家。你的任务是整合同名实体的所有相关信息，确保每个实体的信息完整准确。"
    "请通过分析文本的方式合并和整合不同实体的信息，并确保输出符合指定格式。"
    "在整合过程中请注意："
    "1. 确保每个同名实体的所有重要信息完整保留。"
    "2. 若同名实体的信息冲突，需合理整合，保留关键信息。"
    "3. 对冗余信息和不一致的信息进行标准化和统一。"
    "4. 输出必须是指定的JSON格式，并且结果应通过分析文本完成。"
)


user_prompt_template = (
    "## 任务\n"
    "从提供的实体列表中，识别并合并具有相同名称的实体的属性。\n\n"

    "## 工作流程\n"
    "1. 分析输入的文本数据，识别同名实体。\n"
    "2. 整合同名实体的所有信息，要求如下：\n"
    "- 相同的信息合并在一起，确保每个信息项只出现一次。\n"
    "- 对冲突的信息项，保留共同部分并适当总结冲突信息。\n"
    "- 类似信息项统一为一个标准项。\n"
    "- 整合后的信息简洁清晰，无冗余。\n"
    "3. 审核整合结果，确保没有重复和不相关的信息项。\n"
    "4. 输出结果为指定的JSON格式。\n\n"

    "## 注意\n"
    "- 请通过分析文本完成任务，不要生成代码。\n"
    "- 整合过程中，必须保留所有关键信息，无重要信息丢失。\n"
    "- 避免重复、冗余或不相关的信息项。\n"
    "- 不能输出输入内容中没有的信息。\n\n"

    "## 输出格式\n"
    "{output_format}\n\n"

    "## 示例\n"
    "{output_example}\n\n"

    "## 真实数据\n"
    "### 输入\n"
    "{insertion}\n\n"
    "### 输出\n"
)

user_output_format = """{"实体名称": "实体名称","属性": {"属性名1": "合并后的属性值1；冲突总结","属性名2": "合并后的属性值2",...}}"""

user_output_example = """### 输入示例
[{"实体名称": "欧拉回路","属性": {"定义": "一条经过图中每条边且仅经过一次的回路","应用": "在路径规划问题中应用","条件": "图的每个顶点的度数为偶数"}},{"实体名称": "欧拉回路","属性": {"定义": "一条访问图中每条边一次且仅一次的路径，起点和终点相同","应用": "用于解决哈密顿路径问题的特例","发现者": "欧拉"}},{"实体名称": "欧拉回路","属性": {"定义": "在无向图中，一条经过图中所有边且没有重复的回路","应用": "桥问题中的解决方案","条件": "所有顶点的度数必须是偶数","发现者": "18世纪由数学家欧拉提出"}}]
### 输出示例
{"实体名称": "欧拉回路","属性": {"定义": "一条经过图中每条边且仅经过一次的回路；一条访问图中每条边一次且仅一次的路径，起点和终点相同；在无向图中，一条经过图中所有边且没有重复的回路","应用": "在路径规划问题中应用；用于解决哈密顿路径问题的特例；桥问题中的解决方案","条件": "图的每个顶点的度数为偶数；所有顶点的度数必须是偶数","发现者": "欧拉；18世纪由数学家欧拉提出"}}"""
