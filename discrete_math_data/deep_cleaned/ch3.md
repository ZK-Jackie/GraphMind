# 第三章  命题演算与推理  

计算机是处理数据并将其转化为有用信息的电子设备，其中央处理器主要由算术逻辑计算单元构成，通过数值与逻辑运算实现对信息的表示和处理。因此，逻辑运算作为计算机信息处理的两大基本方式之一，在计算机软件与硬件设计中具有非常重要的作用。在现实社会中，人们通常使用自然语言表达和处理逻辑问题。然而，计算机还远未实现对自然语言的正确理解，不能有效解决自然语言与生俱来的概念歧义问题，因此需要通过引入一套抽象数学符号来实现逻辑的表达和运算。这种基于数学符号表达和运算的形式化逻辑，称之为数理逻辑。数理逻辑最初主要由命题逻辑构成，后来由命题逻辑逐步发展到谓词逻辑，并进一步衍生出证明论、模型论、递归论等多个分支。数理逻辑严密无歧义的符号化表达和处理方式非常契合计算机信息处理的特点和机器思维的需求。计算机通过将数理逻辑中的数学符号转化成物理量实现其非凡的逻辑处理能力，学习和研发计算机系统必须借助数理逻辑中数学符号的演算规律去思考、表达和解决问题，善于通过数学符号的逻辑演算来驱动计算机实现信息的表示和处理。因此，数理逻辑在计算机与人工智能的各个领域都发挥着基础性的支撑作用，是计算机相关专业人员必须牢固掌握的基础知识。  

通过学习数理逻辑，读者不仅可以较好地掌握形式化表达和处理信息的基本方法，满足后续专业课在数理逻辑方面的知识需求，更为重要的是能够养成抽象严谨的逻辑思维，充分提高分析问题和解决问题的能力。命题逻辑是整个数理逻辑知识体系中最经典、最基础的部分，要掌握数理逻辑基本理论和应用技术，首先必须学好命题逻辑。本章比较系统地介绍命题逻辑的基本理论与应用，包括命题的基本概念与运算性质、命题公式与等值演算、真值函数与联结词的完备集、命题公式的范式、命题逻辑的推理系统与方法等。  

## § 3.1 命题的概念与运算  

逻辑主要分为辩证逻辑与形式逻辑这两大类。辩证逻辑主要研究人类思维中的辩证法，属于哲学范畴。离散数学领域的逻辑通常是指形式逻辑，主要研究人类思维的基本形式、基本规则和基本规律，由概念、判断、推理这三个逐步递进的基本构件组成，通过概念形成判断，再通过判断形成推理。其中判断在整个形式逻辑系统中起着承上启下的枢纽作用，它以命题为载体实现其逻辑演算与推理的功能。因此，命题逻辑不仅是数理逻辑学中最为基础的内容，而且在整个逻辑学的学科体系占有十分重要的地位。学习命题逻辑一般需要从命题的概念和运算开始，本节主要介绍命题的基本概念和基本运算，包括命题逻辑的由来、命题的基本概念、命题的基本运算和常用联结词、命题的符号化与应用等。  

### 3.1.1  逻辑与命题逻辑  

正确的思维是人们在日常学习、工作和生活中避免犯错的基础。所谓正确的思维，其实就是概念清晰、判断正确、推理合乎逻辑。这里的逻辑主要是指形式逻辑，意思是说推理要符合思维的基本形式、基本规则和基本规律。英国哲学家弗朗西斯·培根曾经说过：“逻辑是不可战胜的，因为反对逻辑的时候必须要使用逻辑”。这句话尽管有些极端，却很好地说明了逻辑的重要性。形式逻辑最初由古希腊哲学家亚里士多德创立，旨在通过研究人类思维的基本形式、基本规则和基本规律为政治家、哲学家、社会活动价的辩论提供理论指导。因此，历史上著名的政治家、哲学家和社会活动家在逻辑学方面一般都具有很深的造诣。  

用自然语言表达和处理逻辑问题虽然易于理解，但是自然语言与生俱来的歧义性使其难以满足逻辑表达在严密性方面的需求，制约了逻辑学的进一步发展。因此，德国著名数学家莱布尼茨提出一个关于数理逻辑的构想，意思是通过引入一套形式化符号系统来表示和处理逻辑问题，使得逻辑能够像代数一样进行演算、像几何一样可以画图，在发生意见分歧的时无需争论，只需说：让我们坐下来算一算吧，看谁正确。这就是著名的莱布尼茨梦想。1847年，英国数学家乔治∙布尔出版了第一部数理逻辑著作《逻辑学的数学分析》，创立一套以命题符号演算与推理为处理对象的布尔代数系统，初步实现了莱布尼茨梦想，使数理逻辑由一个初步的设想变成一套相对完整的数学理论体系。布尔代数以命题作为基本处理单元，故亦称为命题代数或命题逻辑。其实，与布尔同时代的数学家德摩根也几乎独立地在命题逻辑方面做了大量研究工作，并取得了丰硕的成果。可以这样说，数学家德摩根正式启动了将经典逻辑学大部分研究内容纳入数学范畴的任务，数学家布尔则是完成了这项任务。命题逻辑的现有知识体系基本上涵盖了这两位数学家的相关成果。  

### 3.1.2  命题的基本概念  

命题逻辑以命题作为最基本的处理对象。因此，学习命题逻辑首先必须掌握命题的基本概念。事实上，命题的概念与集合的概念一样，是一个没有严格定义的原始概念，其内涵是不言自明的。我们只能对命题的概念进行描述或解释：  

所谓命题，就是具有确切真假含义且能做出判断的陈述句。当判断正确或者符合客观实际时，命题表达的内容为真或者说命题的取值为真，并称该命题为真命题；否则命题表达的内容为假或者说命题的取值为假，并称该命题为假命题。命题或真或假的取值，称为命题的真值。通常用 $T$或1 表示取值为真的真值，用 $F$ 或0 表示取值为假的真值。  

根据上述关于命题概念的解释，可以看出：  

（1）命题主要用于逻辑思维中的是非判断，因此必须是陈述语句。其它类型的语句，例如感叹句、祈使句、疑问句等，都不能用于是非判断，故不能作为命题。  

（2）对于任何一个给定的命题，必有唯一确定的真值，要么取真、要么取假，不能既真又假，也不能既不真也不假。因此，具有二义性的陈述句不能作为命题。  



【定义3.1】对于任意一个给定的命题，当它不能再分解为更加简单的陈述句时，则称该命题为原子命题；否则，称之为复合命题。  

由上述定义可知，所有命题分为原子命题和复合命题这两种基本类型。例如，命题“合肥是安徽的省会”就是一个不能再分解的原子命题，而命题“安徽不是一个国家”则是一个复合命题，由“安徽是一个国家”这个原子命题生成。  

通常用带下标或不带下标的大写英文字母 $A,B,C,\ldots,P,Q,R,\ldots$… 表示命题，并称之为命题标识符。在命题逻辑系统中，对命题标识符的解释不允许有二义性。也就是说，对于任一确定的具体场合，各个标识符所表达的含义是唯一确定的。  



### 3.1.3  命题的常用联结词  

可以通过一些联结词和标点符号将若干原子命题联结起来构成复合命题，由此形成命题的运算机制。为了能够使用数学方法表示、分析和处理这种命题运算机制，精确研究命题之间的逻辑关系，需要引入一套抽象数学符号来表示这些联结词。最常用的逻辑联结词主要有如下五种：“或者”、 “并且”、“不是”、“如果…, 那么…”、“当且仅当”。下面分别介绍这些逻辑联结词的具体逻辑含义及其数学符号。  

#### 一、否定联结词  

对于任意一个给定的命题，可以通过对其含义取反或者进行否定来得到一个新的命题。新命题的含义与真值与原命题完全相反，由此得到的逻辑运算称为命题的“非”运算或“否定”运算。该运算及其逻辑联结词具体定义如下：  

【定义3.2】设 $P$ 是任一命题，复合命题“非 $P$ ”称为 $P$ 的否定式或非运算，记作 $\lnot\ P$ ，其中符号$\neg$称为否定联结词(简称为否定词)。$\lnot\ P$ 的真值为真，当且仅当 $P$ 的真值为假，或者说：$\lnot\ P$ 的真值为假，当且仅当 $P$ 的真值为真。  

$\lnot\ P$ 是一个由命题$P$衍生而来的复合命题，其真值取值状况与 $P$ 完全相反。



#### 二、合取与析取联结词  

对于任意两个命题，有时需要构造一个新的复合命题表示这两个命题同时为真的含义，相当于自然语言中“与”或“并且”的意思，由此得到的逻辑运算称为命题的“合取”运算或者“与”运算。该运算及其逻辑联结词的具体定义如下：  

【定义3.3】设 $P$ 、$Q$ 是任意两个命题，复合命题$^{\prime\prime}P$并且 $Q$ ”称为 $P$ 与 $Q$ 的合取式或与运算，记作 $P\land Q$，其中符号$\wedge$称为合取联结词(简称为合取词)。 $P\land Q$的取值为真，当且仅当 $P$ 和$Q$ 同时为真；或者说$P$ ∧𝑄 的取值为假，当且仅当 $P$ 和 $Q$ 至少有一个为假。  



有时需要构造一个复合命题表示两个命题中至少有一个为真的含义，相当于自然语言中“可兼或”的意思，由此得到的逻辑运算称为命题的“析取”运算或者“可兼或”运算。所谓可兼或，就是可两者兼得的或。该运算及其逻辑联结词的具体定义如下：  

【定义 3.4 】设   $P、 Q$   是任意给定的两个命题，复合命题 $^{\prime\prime}P$   或 $\textit{Q}\,^{\prime\prime}$ 称为   $P$ 与   $Q$   的析取 式或者可兼或运算，有时简称为或运算，记作 $P\lor Q$ ，其中符号$\vee$称为析取联结词(简称为析取词 ) 。 $P\lor Q$   的取值为真，当且仅当   $P$   和   $Q$   中至少有一个为真；或者说 $P\lor Q$   的取值 为假，当且仅当 $P$ 和 $Q$ 都为假。  



需要注意的是：自然语言中或的含义是有歧义的，对或的理解除了上述可兼或外，有时还可理解成不可兼或，即两者不可兼得的或，有时称之为异或。在逻辑运算中，可兼或与异或之间具有完全不同的含义，我们将在后续相关内容中具体讨论异或逻辑联结词及其逻辑运算。除非特别说明，逻辑演算中或运算含义都默认为可兼或运算，即析取运算。  

在实际应用中，应根据语句的具体内容和上下文相关信息仔细甄别其中“或”表达的是可兼或还是不可兼或。

#### 三、蕴含与等价联结词  

有时候需要构造一个复合命题表示如果某个命题为真，那么另外一个命题必为真的含义，相当于自然语言中“如果…，那么…”的意思，由此得到的逻辑运算称为命题的“蕴涵”运算或者“条件”运算。该运算及其逻辑联结词的具体定义如下：  

【定义3.5】设 $P、 Q$ 是任意两个命题，复合命题$^{\prime\prime}P$ 蕴涵 $Q$ ”称为 $P$ 与 $Q$ 的蕴含式或蕴含运算，记作 $P\rightarrow Q$ ，其中符号$"~\rightarrow~"$称为蕴含联结词（简称为蕴含词），$P$ 称为蕴含式的前提或前件，   $Q$   称为蕴含式的结论或后件。 $P\rightarrow Q$   的真值为假，当且仅当   $P$ 为真且  $Q$ 为假。  

其实，蕴含运算符“${\rightarrow}$”既可表示充分条件，也可表示必要条件，关键是看哪个作为运算的前件，哪个作为运算的后件。具体地说，对于蕴涵式 $P\rightarrow Q$ ，具有如下结论：  

命题 $P$ 是命题 $Q$ 的充分条件，因为根据蕴涵式的含义有：若 $P$ 为真，则 $Q$ 必为真；

命题 $Q$ 是命题 $P$ 的必要条件，因为根据蕴涵式的含义有：若 $Q$为假，则 $P$ 必为假。  

自然语言表达充分条件和必要条件的方式有很多种，实际使用的时候应注意区分。 



有时需要构造一个复合命题表示两个命题同时为真且同时为假的含义，相当于自然语言中“等价”、“当且仅当”的意思，由此得到的逻辑运算称为命题的“等价”运算或者“双蕴含”运算。该运算及其逻辑联结词的具体定义如下：  

【定义 3.6 】设   $P$ 、 $Q$   是任意两个命题，复合命题 “   $P$   等价   $Q$   ” 称为   $P$   与   $Q$   的等价 式或等价运算，有时也称为双蕴含运算，记作 $P\leftrightarrow Q$ ，其中符号$\leftrightarrow$称为等价联结词(简称为等价词)。$P\leftrightarrow Q$ 的取值为真，当且仅当 $P$ 与 $Q$具有相同的真值。  



#### 四、命题联结词小结  

目前，我们学习了“否定”、 “合取”、 “析取”、 “蕴涵”和“等价”这 5 个常用命题联结词，它们分别构成 5 种不同的命题运算。

通过这些命题运算联结词，就可用数学符号表示一些比较复杂的复合命题。



## § 3.2 命题公式与等值演算  

前面我们学习了命题的基本概念及其若干常用的逻辑运算，要将这些概念和运算应用到计算机系统的设计与开发，必须对其用数学符号的方式进行形式化描述和处理，形成命题演算的数学表达式，使得命题逻辑能够像代数一样进行抽象的符号运算，建立一种命题代数。本节比较系统地介绍这种命题代数的基本理论，包括命题公式的基本概念、命题公式的解释与分类、命题公式的等值关系与等值演算、命题公式的内否式与对偶式等。  

### 3.2.1 命题公式的基本知识  

运算表达式是代数运算的核心内容。命题代数中的运算表达式称为命题公式，相当于初等代数中的多项式。本小节介绍这种命题公式的基本知识，包括命题公式的概念及其归纳定义、命题公式的解释与真值表、命题公式的基本类型等。  

#### 一、命题变量与命题公式  

如前所述，可用大写英文字母作为标识符来表示命题。事实上，在具体的逻辑演算中，我们关注的重点往往是命题的真值取值状况而非命题的具体内容和含义。因此，可将作为命题标识符的字母符号取代具体的命题进行逻辑演算，由此形成一套形式化的符号逻辑代数演算系统。与初等代数中常量和变量的概念相类似，在这个系统中，对于一个给定的命题标识符，它不仅可用来特指某个具体的命题，成为命题常量，而且还可用于泛指一个任意的、没有具体内容的抽象命题，成为命题变量。命题常量和命题变量的具体定义如下：  

【定义3.7】如果一个命题标识符表示的是一个特定的、具有特定内容的具体命题，则称该标识符为命题常量；如果一个命题标识符表示的是一个泛指的、内容不确定的抽象命题，则称该标识符为命题变量。  

命题常量表示一个具体命题，其内容和真值都是确定的。因此，可将命题常量看成是一个命题。命题变量则表示任意一个命题，假定标识符𝑃是一个命题变量，则𝑃既可以表示“合肥是安徽的省会”，也可以表示“太阳从西方升起”，还可以表示其它任意命题。事实上，可以将命题变量理解成一个能够存放任意命题的空容器， 其含义随着容器中所存放具体命题的不 同而不同。因此，命题变量的真值取值是不确定的，不能将其看成命题。  

我们知道，复合命题是由原子命题经由联结词进行逻辑运算得到的命题。当复合命题中的原子命题变成命题变量时，该复合命题显然就变成了一种以这些命题变量为自变量的函数。由于这种函数的取值为或真或假的真值，故称这种函数为真值函数或命题公式。  

由此可知，命题公式或真值函数其实就是由表示命题变量的标识符和逻辑联结词构成的逻辑运算表达式。需要说明的是，命题公式之所以能够构成逻辑运算表达式，关键在于其能够根据逻辑联结词的含义进行运算，故此并不是由命题变量和标识符构成的任意字符串都能构成命题公式。

因此，必须要有一个严格的、具有可操作性的标准来区分哪些符号串是合法的命题公式，哪些字符串则不能构成命题公式。以下命题公式的归纳定义就确定了这个标准。  

【定义3.8】由表示命题变量的标识符、逻辑联结词和括弧构成的字符串称为命题演算的合式公式，又称为命题公式或真值函数，当且仅当它按下列4 条规则构造而成：  

（1）单个的命题变量是一个命题公式； 

（2）若𝐺是一个命题公式，则$(\neg G)$也是一个命题公式； 

（3）若𝐺, $H$是命题公式，则$(G\wedge H)$、$(G\lor H)$、$(G\to H)$)、$(G\leftrightarrow H)$)都是命题公式；

（4）仅通过有限次使用规则（1）、（2）、（3）所得到的字符串才是命题公式。  

在上述定义中的四个规则确定了一个由所有命题公式为元素组成的集合，第（1）条规则决定了该集合为非空集合并确定了集合的初始元素，第（2）、（3）条规则则是根据集合中初始元素通过运算不断构造出新的元素，是集合的不断扩张的过程，第（4）条规则则是对集合的扩张进行了限制，给出了集合的边界，由此构成一个边界确定集合。这个集合就是命题函数的一种外延式定义。  



为书写简单起见，对命题公式中括弧使用和联结词运算优先级做如下约定：  

（1）命题公式中最外层的括弧可以省略； 

（2）5 种常用逻辑联结词的运算优先级从左到右按如下次序递减：  
$$
\neg 、 \wedge 、 \vee 、 \rightarrow 、 \leftrightarrow
$$
#### 二、命题公式的解释与真值表  

命题公式是由命题变量、，其中命题变量泛指的无确定真值的、抽象的命题。因此，命题公式一般没有确定的真值。但是，如果对命题公式中每个命题变量分别指定确定真值的具体命题，那么命题公式就变成一个具有确定真值的复合命题。由此得到如下关于命题公式解释或赋值的概念：  

【定义3.9】设$P_{1},P_{2},\cdots,P_{n}$是出现在命题公式$G$中所有命题变量，对$P_{1},P_{2},\cdots,P_{n}$分别指定真值，由此得到的一组真值称为命题公式$G$的一个解释或赋值，通常记为$\smash{I_{\circ}}$。  

命题公式中的每个变量都有𝑇和$F$两种真值指定方式，对于$\cdot n$个命题变量的公式就有$\cdot2^{n}$个不同解释。例如，含2 个命题变量公式有4 种不同解释，含有3 个变量公式有8 种不同解释。命题公式在每种解释下都会有相应的真值取值，由此可得如下定义：  

【定义3.10】对于任意一个给定的命题公式$G$，如果该命题公式在某种解释下的真值取值为真，则称该解释为$G$的成真赋值或弄真赋值；如果该命题公式在某种解释下的真值取值为假，则称该解释为$G$的成假赋值或弄假赋值。  



为直观表达命题公式在不同解释下的取值状态，在变量不太多的情况下，可将命题公式在所有不同解释下的取值状态枚举出来，做成一个表格。由此得到如下真值表的概念：  

【定义3.11】对于任意一个含有$\cdot_{n}$个命题变量的命题公式$G$，$G$的所有解释以及在每个解释下真值取值所构成的表格称为$G$的真值表。  

在真值表中，一般将命题公式中的命题变量放在最左边，将命题公式在解释下的真值取值结果放在右边并加粗表示。对于比较复杂的公式，通常将计算命题公式真值的中间结果依次放在表中，或者中间结果放在相关逻辑联结词的下方。此外，为节约篇幅，通常将含有相同命题变量个数的多个命题公式真值取值结果合并到一个真值表中。  

#### 三、命题公式的基本类型  

有些命题公式则在任何解释下均为假；有些命题公式则在一些解释下为真、在另一些解释下为假。  

由此可将命题公式分为永真、永假和可满足这三种基本类型，具体定义如下：  

【定义3.12】对于任给定的命题公式$G$  

（1）如果$G$在所有解释下的真值取值都为真，则称其为永真公式或重言式；

（2）如果$G$在所有解释下的真值取值都为假，则称其为永假公式或矛盾式；

（3）如果命题公式不是矛盾式，则称其为可满足式。  

根据上述定义，不难看出这三类公式之间的基本关系：  

（1）命题公式$G$为永真式，当且仅当¬G为永假式。 

（2）若命题公式$G$为永真式，则𝐺必为可满足式；反之不然。 

（3）若命题公式$G$为可满足式，当且仅当至少存在一种解释$I$，使得$G$为真。  



### 3.2.2 等值关系与等值演算  

在中学学习多项式的时候，多项式的恒等是一个非常重要的概念。所谓两个多项式恒等，就是这两个多项式的值在变量的任何赋值情况下始终保持一致。在初等代数中，通常利用多项式恒等的概念进行恒等变形或代数演算。在命题逻辑中，同样需要一种类似于命题公式恒  

等的概念进行命题公式的演算和推理，这就是命题公式的等值关系。  

#### 一、等值关系的基本概念  



【定义3.13】𝐴、$B$是含命题变元$P_{1},P_{2},\dots,P_{n}$的公式，如不论对$P_{1},P_{2},\dots,P_{n}$作何种真值指派，都使得𝐴和$B$的真值相同，则称命题公式$A$与$B$等价或等值，记为$A=B$或$A\Leftrightarrow B$。  

判断两个命题公式是否等值，最直观的方法就是将这两个公式的真值表列出，然后看看两者的取值是否一致。  



【定理3.1】对于命题公式$𝐴$和$B$，$A\Leftrightarrow B$的充分必要条件是公式$A\leftrightarrow B\Leftrightarrow T$  



【定理3.2】命题公式的等值满足如下三条性质：

 自反性：即对任意命题公式$𝐴$，$A=A$；

 对称性：即对任意命题公式𝐴和$B$，若$A\Leftrightarrow B$，则$B=A$；  

传递性：即对任意命题公式 𝐴 ， $B$ 和 $C$ ，若 $A\Leftrightarrow B$ ， $B\Leftrightarrow C$ ，则 $A\Leftrightarrow C$ 



#### 二、基本等值关系  

在初等代数中，我们常常借助一些已经证明为正确的恒等式，例如平方差公式等进行代数式的恒等变形或演算。在命题逻辑中，也可以这样做。具体地说，就是首先通过真值表证  

明一些基本的等值关系式，然后将这些基本等值关系式作为已知工具直接在命题公式等值演算中使用，达到简化演算过程的效果。这些基本等值关系式一共有24 个，具体如下：  

幂等律：$E_{1}\colon G\vee G\Leftrightarrow G$；                    $E_{2}\colon G\wedge G\Leftrightarrow G$；

交换律：$E_{3}\colon G\vee H\Leftrightarrow H\vee G$；                 $E_{4}\colon G\wedge H=H\wedge\mathsf{G}$；

结合律：$E_{5}\colon G\vee(H\vee S)\Leftrightarrow(G\vee H)\vee S \ \  \ \ E_{6}\colon G\wedge(H\wedge S)\Leftrightarrow(G\wedge H)\wedge S$

同一律：$E_{7}\colon G\vee0\Leftrightarrow G$；                     $E_{8}\colon G\wedge1\Leftrightarrow G$；

零  律： $E_{9}\colon G\vee1\Leftrightarrow1$；                     $𝐸_{10}: 𝐺∧0 ⇔0$； 

分配律：$E_{11}\colon G\vee(H\wedge S)\Leftrightarrow(G\vee H)\wedge(G\vee S)$$ 𝐸_{12}: 𝐺∧(𝐻∨𝑆) ⇔(𝐺∧𝐻) ∨(𝐺∧𝐻)；$

吸收律：$E_{13}\colon G\vee(G\wedge H)\Leftrightarrow G$；               $𝐸_{14}: 𝐺∧(𝐺∨𝐻) ⇔𝐺； $

矛盾律与排中律：$E_{15}{\colon G\wedge\neg G\Leftrightarrow0}$；            $E_{16}\colon G\vee\neg G\Leftrightarrow1;$；

 双从否定律：$E_{17}\colon\neg(\neg G)\Leftrightarrow G$ 

德摩根律：$E_{18}\colon\neg(G\vee H)\Leftrightarrow\neg G\wedge\neg H$；         $E_{19}\colon\neg(G\wedge H)\Leftrightarrow\neg H\vee\neg G$

等值蕴含与假言易位： $E_{20}\colon G\to H\Leftrightarrow\lnot G\vee H$ ； $E_{21}\colon G\to H=\neg H\to\neg G\colon$   

等价与等价否定：$E_{22}\colon G\leftrightarrow H\Leftrightarrow(\neg G\lor H)\land(\neg H\lor G);\quad $

$E_{23}\colon G\leftrightarrow H\Leftrightarrow\neg G\leftrightarrow\neg H;$

归谬论：$E_{24}\colon(G\to H)\wedge(G\to\lnot H)\Leftrightarrow\lnot G$。 

除了上述24 个基本等值关系之外，命题公式的等值演算还经常用到两个著名的定理，  

即代入定理和替换定理。  

对于任意一个永真式或永假式，其真值与公式中命题变元的取值状态无关。因此，用任意公式取代永真式或永假式中的变元，都不会改变其取值的永真性或永假性。下列代入定理正是表达了这个含义：  

【定理3.3**]**（代入定理）设$G(P_{1},P_{2},\cdots P_{n})$是一个命题公式，其中$P_{1},P_{2},\cdots P_{n}$是$G$中的$n$个命题变元，$G_{1}(P_{1},P_{2},\cdots P_{n})$，$G_{2}(P_{1},P_{2},\cdots P_{n})$，⋯，$G_{n}(P_{1},P_{2},\cdots P_{n})$为任意命题公式，此时若$G$为永真公式或永假公式，则用$G_{1}$取代$P_{1}$，用$G_{2}$取代$P_{2}$，⋯，用$G_{n}$取代$P_{n}$后得到的新的命题公式： $\mathsf{G}(G_{1},G_{2},\cdots G_{n})\,\Leftrightarrow\,G^{\prime}(P_{1},P_{2},\cdots P_{n})$也是一个永真公式或者永假公式。  



【定理3.4】（替换定理）设${\mathcal{G}}_{1}$是$G$的子公式，$H_{1}$是任一命题公式，在$G$中凡出现$G_{1}$处都以$H_{1}$替换后得到新的命题公式$\mathsf{H}$，若$G_{1}\Leftrightarrow H_{1}$，则$G\Leftrightarrow H$。  



#### 三、命题公式的等值演算  

通过上述24 个基本等值关系以及代入定理和替换定理，就可以进行命题公式的等值演算。一般来说，通过命题公式的等值演算，可以实现如下三个基本目的：  

第一、判定命题公式的基本类型，即判定或证明一个命题公式为永真或永假；

第二、证明两个命题公式之间具有等值关系； 

第三、对复杂的命题公式进行化简。  



### 3.2.3 公式的内否与对偶  

前面学习了 “否定”、 “合取”、 “析取”、 “蕴涵”和“等价”这五个常用命题联结词，其中最常用的是“否定”、 “合取”、 “析取”这三个联结词。事实上，后面将会证明仅使用这三个最常用联结词就可以任意的命题公式。本小节主要考察仅由这三个联结词构成的命题公式，首先给出如下限制性命题公式的定义：  

【定义3.14】如果一个命题公式$G$中仅出现命题变量、命题常量，以及命题联结词“$\neg$”、“ $\wedge$“、”$\lor$“，则称$G$为限制性命题公式。  

例如公式$\neg Q\lor R\,\lor\,\neg(P\lor Q)\lor(Q\lor P)\,\lor\,G\lor(H\land S)$都是限制性命题公式。  

限制性命题公式中只有“$\neg$”、“ $\wedge$“、”$\lor$“这三种运算，其中”$\neg$”为一元运算，“ $\wedge$“和“$\lor$”均为二元运算。对于任意一个限制性命题公式，可以使用规律性修改其运算联结词的方式构造出与之相对应的新的命题公式。例如，对于“$\neg$”运算，可将命题公式中所有变量取反，即由$P$ 换成$\neg\mathrm{P}$，便可得到一个新的公式。由此得到如下内否公式的定义：  

【定义3.15】设$G\Leftrightarrow G(P_{1},P_{2},\cdots P_{n})$是任一限制性命题公式，$P_{1},P_{2},\cdots P_{n}$是其所有命题变量，则称$G(\neg P_{1},\neg P_{2},\cdots\neg P_{n})$是$G(P_{1},P_{2},\cdots P_{n})$的内否公式，记为$G^{\neg}$。  

例如：若 $G=\ \lnot P\lor Q$，则$G^{\neg}=P\lor\neg Q$。  

不难看出，$\wedge$和$\lor$运算具有一定的对等性。也就是说 $\wedge$运算具有的性质，$\lor$运算也都有，反之亦然。因此，对于任意一个限制性命题公式，可将其中 $\wedge$换成$\lor$、$\lor$换成$\wedge$、$T$换成$F$、$F$换成$T$，则可得到一个与之相关的新公式。由此得到如下命题公式对偶式的概念：  

【定义3.16】对于任意一个限制性命题公式$G$，将其中 $\wedge$换成$\lor$、$\vee$换成 $\wedge$、$T$换成$F$、$F$换成$T$，得到的新公式称为$G$的对偶式，记为$G^{*}$。  

下面两个定理分别给出了内否式和对偶式的基本性质于基本关系：

【定理3.5】假设$G$和$H$都是限制性命题公式，则成立下列等值式：  

$\begin{aligned}&(1) (G^{*})^{*}\Leftrightarrow G, (G^{\neg})^{\neg}\Leftrightarrow G; (2) (G\vee H)^{*}\Leftrightarrow G^{*}\wedge H^{*}; (G\vee H)^{\neg}\Leftrightarrow G^{\neg}\vee H^{\neg};\\&(3) (G\wedge H)^{*}\Leftrightarrow G^{*}\vee H^{*}; (G\wedge H)^{\neg}\Leftrightarrow G^{\neg}\wedge H^{\neg}。\end{aligned}$ 



【定理3.6】设$G$和$G^{*}$互为对偶式，$P_{1},P_{2},\cdots P_{n}$是出现在$G$和$G^{*}$中的全部命题变项，将$G$和$G^{*}$写成$\mathsf{n}$ 元函数形式，则有： 
$$
(1)\neg G(P_{1},P_{2},\cdots,P_{n})\Leftrightarrow G^{*}(\neg P_{1},\neg P_{2},\cdots,\neg P_{n})\Leftrightarrow(G^{\neg})^{*}(P_{1},\cdots,P_{n})\tag{3-1}
$$

$$
G^{\neg}(P_{1},P_{2},\cdots,P_{n})\Leftrightarrow G(\neg P_{1},\neg P_{2},\cdots,\neg P_{n})\Leftrightarrow\neg G^{*}(P_{1},P_{2},\cdots,P_{n})\tag{3-2}
$$


上述定理的第（1）条表明命题公式$G$的否定与其命题变元否定的对偶式，即与该公式内否式的对偶式等值；第（2）条表明命题公式$G$的内否式与该公式对偶式的否定等值。  

【定理3.7】（对偶原理）假设$P_{1},P_{2},\cdots,P_{n}$是出现在命题公式$P$和$Q$中的所有原子变元，如果$P\Leftrightarrow Q$，那么$P^{*}\Leftrightarrow Q^{*}$。  



对偶原理表明命题公式之间所有等值关系都是成对的。也就是说，对于任意一个等值式，都可由对偶原理构造一个与之对偶的等值式。例如，对于等值式$P\to Q\Leftrightarrow\neg P\lor Q$，则可构造出其对偶等值式$\neg P\land Q\Leftrightarrow\neg(\neg P\rightarrow\neg Q)$。因为$\neg P\land Q\Leftrightarrow\neg(P\lor\neg Q)\Leftrightarrow\neg(\neg P\to\neg Q)$。  



## § 3.3 联结词的完备集  

前面学习了五个常用逻辑运算联结词。细心的读者可能会想到下面两个问题：一是联结词的枚举问题，或者说除了这五个常用联结词之外，还有哪些运算联结词？二是联结词的完备集问题，亦即：这五个常用联结词是否可以表示任意命题公式，至少需要多少种运算联结词才能表示任意命题公式？本节主要考察这两个问题。  

### 3.3.1  联结词的枚举  

不难看出，每个运算联结词分别对应一个命题公式，且彼此不同的运算联结词所对应的命题公式也互不相同。尽管可以通过命题公式的定义构造出无穷多个形态各异的命题公式，但是这些命题公式中有很多是彼此等值的。因此，如果我们将彼此等值命题公式视为同一种类型并且能够计算出类型的数目，那么命题运算联结词的枚举问题便迎刃而解。  

对于任意一个含有$n$个命题变量的命题公式，都可以将它看成是一个由这$n$个变量为自变量的𝑛元函数。显然，每个自变量的取值以及函数值的取值均为{真，假}或{0, 1}，故有如下𝑛元真值函数的相关定义：  

【定义3.17】假设𝐺是一个含有$n$个命题变元的命题公式，则称𝐺是一个$\mathbfit{n}$元真值函数。在所有的$n$元真值函数中，将相互等值的真值函数归为一类，并从每个类中分别选取一个$_{n}$元真值函数作为该的类代表，称这种具有代表性质的真值函数为$\mathbfit{n}$元真值函项。  

显然，$n$元真值函数的种类数就是$n$元真值函项的个数。因此，下面着重考察如何对$n$元真值函项进行计数和枚举。  

对于一元真值函数$G(P)$，它只含有一个命题变元 $P$。由于$P$只有$T$和$F$两种取值状态且对于每种状态，$G(P)$都只有$T$和$F$两种不同取值方式，由计数的乘法原理知，$G(P)$有且仅有有4 种不同的表现形式。  

由此可以得到如下全部四个不同的一元真值函项：  

$$
G_{1}(P)\Leftrightarrow T;\,\,\,G_{2}(P)\Leftrightarrow P;\,\,\,G_{3}(P)\Leftrightarrow\neg P\,;\,\,\,\,\,G_{4}(P)\Leftrightarrow F
$$

由此可见，非平凡的一元逻辑运算联结词只有$\neg$运算，即 $G_{3}(P)=\neg P$  

下面考察二元真值函数$G(P,Q)$：由于每个命题变量分别取T和F两种状态，故$P$与$Q$的取值状态组合数为4。对于$P$与$Q$每一种组合状态，$G(P,Q)$都有$T$和$F$这两种取值状态，由计数的乘法原理知，$G(P,Q)$有且仅有有$2^{4}{=}16$ 种不同表现形式。 

由此可以得到如下全部16 个不同的二元真值函项：  

$G_{1}(P,Q)\Leftrightarrow P\land\lnot P;\,\,\,G_{2}(P,Q)\Leftrightarrow P\land Q;\,\,\,G_{3}(P,Q)\Leftrightarrow\lnot(P\to Q)\,;\quad G_{4}(P,Q)\Leftrightarrow P\,;$ $G_{5}(P,Q)\Leftrightarrow\neg(Q\to P);\;\;G_{6}(P,Q)\Leftrightarrow Q;\;\;G_{7}(P,Q)\Leftrightarrow\neg(P\leftrightarrow Q);\quad G_{8}(P,Q)\Leftrightarrow P\lor Q;$ $G_{9}(P,Q)\Leftrightarrow\neg(P\vee Q);\;\;G_{10}(P,Q)\Leftrightarrow P\leftrightarrow Q;\;\;G_{11}(P,Q)\Leftrightarrow\neg Q;\quad G_{12}(P,Q)\Leftrightarrow Q\rightarrow P$ $G_{13}(P,Q)\Leftrightarrow\neg P;\;\;G_{14}(P,Q)\Leftrightarrow P\rightarrow Q;\;\;G_{15}(P,Q)\Leftrightarrow\neg(P\wedge Q);\quad\;G_{16}(P,Q)\Leftrightarrow P\vee\neg P$  

由此可见，非平凡二元逻辑运算联结词一共有 9 个，除了前面已学的 5 个常用联结词$\neg，\wedge，\vee，\rightarrow，\leftrightarrow$之外，还有如下4 个新的运算联结词，即：$\overline{{\mathsf{V}}}\,,\,\nrightarrow\,\uparrow\,,\,\downarrow$。

对于一般$n$元真值函数$G(P_{1},P_{2},\cdots,P_{n})$，其$.n$个命题变量$P_{1},P_{2},\cdots,P_{n}$的取值状态组合数为$2^{n}$。对于每个取值状态的组合，$G(P_{1},P_{2},\cdots,P_{n})$均有$T$和$F$这两种取值。因此，$G(P_{1},P_{2},\cdots,P_{n})$有且仅有$2^{2^{n}}$种不同表现形式，即有且仅有$\cdot2^{2^{n}}$个$_{n}$元真值函项。例如，当$n=3$时，有且仅有$2^{8}{=}256$ 个真值函项，由此可得到所有非平凡三元逻辑运算联结词，具体不再赘述。  

### 3.3.2 联结词的完备性  

现在我们进一步考察联结词的表示功能的完备性问题，即至少需要多少种运算联结词才能表示任意命题公式？首先给出如下联结词功能完备集的概念：  

【定义3.18】假设𝑆是一个由逻辑运算联结词组成的集合，如果对于任意一个命题公式，都有由𝑆中联结词表示出来的命题公式与之等值，则称𝑆是一个完备的联结词集合，或者说𝑆是一个联结词的完备集。  

由联结词的枚举可知联结词的数量或种类有很多，其实不难发现其中有很多联结词之间是可以互推的，或者说可以相互表示。因此，对于一个联结词的完备集，其中可能会存在联结词的冗余，有时需要消除这种冗余，故有如下极小完备联结词集合的概念：  

【定义3.19】假设𝑆是一个任意给定的联结词的完备集，从𝑆中任意删除一个联结词后得到新的联结词集合$\boldsymbol{\cdot}\boldsymbol{S}^{*}$，则$S^{*}$不是联结词的完备集，也就是说，至少有一个命题公式不能等价于由$S^{*}$中联结词表示的任一公式，此时称𝑆是一个极小完备联结词集合。  

通常都需要选用适当的联结词完备集以更加方便地进行命题公式演算。由于命题公式的归纳定义仅涉及一元联结词和二元联结词，故仅需考察由一元联结词和二元联结词为元素组成的联结词集合。下面给出一些重要的联结词完备集：  

由于：$P\rightarrow Q\Leftrightarrow\neg P\rightarrow Q,\,\,\,P\leftrightarrow Q\Leftrightarrow(\neg P\lor Q)\land(\neg Q\lor P),\,\,\,P\land Q\Leftrightarrow\neg(\neg P\lor\neg Q)$。所以$\{\neg,\ \vee\}$可构成极小完备集，同理$\{\neg,\ \land\}$也可以构成极小完备集。

 由于：$P\vee Q\Leftrightarrow\neg P\rightarrow Q， \Rightarrow\neg P\to Q\ ,\ \ P\land Q\Leftrightarrow\neg(\neg P\lor\neg Q)\Leftrightarrow\neg(P\to\neg Q)\ ,\ \ P\leftrightarrow Q\Leftrightarrow(P\to Q)\land$

 $(Q\rightarrow P)$。所以$\{\neg,\ \ \rightarrow\}$可以构成极小完备集。  

由于$P\land Q\Leftrightarrow\neg(\neg P\lor\neg Q)\Leftrightarrow\neg(P\to\neg Q)\Leftrightarrow P\nRightarrow\neg Q$，故$\{\neg,\quad\nrightarrow\}$可构成极小完备集。  

由于$\neg P\Leftrightarrow\neg(P\land P)\Leftrightarrow P\uparrow P,$，$P\land Q\Leftrightarrow\neg\neg(P\land Q)\Leftrightarrow\neg\ P\uparrow Q$，故{↑}可构成极小完备集。同理，$\{\downarrow\}$可构成极小完备集。↑和↓在大规模集成电路中具有广泛应用。  

由以上的分析可知， $\{\neg,\ \ \vee\},\ \{\neg,\ \ \wedge\},\ \{\neg,\ \ \rightarrow\},\ \ \{\neg,\ \ \nrightarrow\},\ \ \{\uparrow\} \},$都是极小完备集，$\left\{\neg,\ \ \lor\ ,\ \ \land\right\}$是一个完备的联结词集合。但是$\{\lor\},\ \{\land\},\ \{\lor,\ \land\}$等都不是极小完备集  



### 3.3.3 联结词的应用  

（1）控制电路的逻辑表达式问题

（2）控制电路的电路图问题



## § 3.4 命题公式的范式  

如前所述，虽然可以构造出无穷多个命题公式，但是这些命题公式中有很多是彼此等值的，将彼此等值的命题公式视为同一种类型，便可实现对所有命题公式的分类。属于同一种类型的命题公式除了在表现形式上有所差异之外，其它性质完全相同。因此，可以对命题公式的表达制定一个统一规范的标准形式，使得每种命题公式都分别具有唯一一个与之相对应的标准命题公式，并将这个标准命题公式作为其所属公式类型中所有命题公式的代表，或者说作为其所属公式类型中所有命题公式的范式。范式为千变万化的命题公式确定了一个统一的表达形式，在命题演算与推理中具有极其重要的作用，例如可以使用范式判断任意两个命题公式是否等值、判断命题公式的类型，还可以使用范式进行电路设计等等。  

### 3.4.1 范式的基本概念  

现在考虑如何设计一个命题公式的范式。我们知道，否定、 合取、析取是三个最常用的逻辑运算联结词，而且可以表示任意命题公式。因此，命题公式的范式仅使用这三个联结词即可。设计命题公式范式的核心思想是将命题公式的运算分成内、中、外三个基本层次，将否定运算在公式的内层，将合取和析取中的一个统一放在中层，另外一个统一放在外层，由此形成一种比较规整的具有三层结构的表达形式。  

#### 一、析取式与合取式  

在否定、合取、析取这三个联结词中，否定联结词具有最高的运算优先级，范式中用文字这个概念对其进行封装，规定范式中否定联结词只能作用于单个命题变量。这样就用文字的概念将否定运算封装命题公式范式的内层。下面给出文字概念的定义：  

【定义3.20】设𝑃是任意一个命题变量，则𝑃和$\neg P$均称为文字，且称𝑃和$\neg P$为互补对。由于合取和析取这两个联结词在运算上具有对等性质，也就是说合取运算具有析取运算的所有性质，析取运算也具有合取运算的所有性质。故有如下析取式与合取式的概念：  

【定义3.21】有限个文字的析取称为析取式，也称为子句；有限个文字的合取称为合取式，也称为短语。  

例如， $P$、 $\neg P$是文字、子句、短语； $P\lor Q\lor R$是子句； $P\land Q\land R$是短语。注意：一个命题变元或者其否定既可以是子句，也可以是短语。  

显然，析取式是一个具有两层结构的逻辑表达式，只有否定和析取这两种联结词，内层是否定联结词，外层是析取联结词；合取式也是一个具有两层结构的逻辑表达式，只有否定和合取这两种联结词，内层是否定联结词，外层是合取联结词。  

#### 二、析取范式与合取范式  

合取式是一个只有否定层与合取运算层的两层结构表达式，如果在其外层增加一个析取运算层，则得到所谓的析取范式；同样，析取式是一个只有否定层与析取运算层的两层结构表达式，如果在其外层增加一个合取运算层，则得到所谓的合取范式。  

【定义3.22】有限个短语的析取式称为析取范式；有限个子句的合取式称为合取范式。析取范式与合取范式统称为范式。 也就是说，一个命题公式为析取范式，当且仅当它具有形式：$A_{1}\lor A_{2}\lor\ldots\lor A_{n}$。其中，$A_{1}$，$A_{2}$，… ，$A_{n}$均为由命题变元或其否定所组成的合取式。 

例如，$(P\land\neg Q\land R)\lor(\neg P\land Q)\lor\neg R$是析取范式。 

同样地，一个命题公式称为合取范式，当且仅当该命题具形式：$B_{1}\wedge B_{2}\wedge\cdots\wedge B_{n}$。其中，$B_{1}$，$B_{2}$，⋯，$B_{n}$均为由命题变元或其否定所组成的析取式。 

例如，$(P\lor\neg Q\lor R)\land(\neg P\lor Q)\land\neg R$是合取范式。  

注意：①一个命题的析取范式或合取范式不唯一；②形如$P\land\neg Q\land R$的公式既可看成是由一个合取式构成的析取范式，也可以看成是由3 个析取式构成的合取范式，但是公式$(P\land$$\neg Q\land R)$只能将其看成是析取范式；③形如$P\lor\neg Q\lor R$的公式既是合取范式，又是析取范式，但$(P\lor\neg Q\lor R)$仅是合取范式。  



 对于任意一个命题公式，下面定理保证了其析取范式和合取范式的存在性：  

【定理3.8】对于任意命题公式，都存在与其等值的析取范式和合取范式。  



### 3.4.2 主析取范式

前述析取范式与合取范式虽然分别给出了命题公式的统一表达式，但这种表达形式并不唯一。例如公式$P\lor(Q\land R)$是一个析取范式，下述与其等值的公式也为其析取范式：  
$$
\begin{array}{l}{P\lor(Q\land R) \Leftrightarrow (P\lor Q)\land(P\lor R)\Leftrightarrow((P\lor Q)\land P)\lor((P\lor Q)\land R)\Leftrightarrow\;\;(P\land P)\lor(P\land Q)\lor(P\land R)\lor(Q\land R)}\end{array}
$$

范式表达形式的不唯一很容易给命题公式的研究与应用带来不便或混乱，应对其表达形式做进一步的限制使其满足唯一性，由此得到主范式的概念。主范式包括主析取范式和主合取范式两种基本类型，本小节主要讨论主析取范式，下一节介绍主合取范式。  

#### 一、小项的概念与性质  

析取范式由若干合取式通过析取运算组合而成，合取式是组成析取范式的基本构件。不难看出，造成析取范式表达形式不唯一的根本原因是其基本构件的种类太多而且存在冗余。因此，必须对作为析取范式种中合取运算的表达做进一步限定，在保证析取范式基本构件完备性的前提下消除冗余的合取式，由此得到如下小项的定义：  

【定义3.23】对于任一含有$n$个命题变元的合取式$G(P_{1},P_{2},\cdots,P_{n})$，其中每个命题变元$P_{i}$与其否定$\neg P_{i}$不同时出现，但是两者之一必须出现一次且仅出现一次，而且出现次序与$P_{1},P_{2},\cdots,P_{n}$的次序保持一致，则称该$G(P_{1},P_{2},\cdots,P_{n})$为一个小项。  

显然，小项是一种在表达形式上具有特殊限制的合取式，要求合取式中的所含变量都要以一定方式出现一次且仅出现一次，对于每个变量，要么以其自身形态出现，要么以其否定形态出现。通过这种限制，就可实现对命题公式中合取运算的一种规范表达，而且很容易实现对这种规范表达形式的枚举。  

由小项的真值取值特点易知，任意两个不同的小项的合取式为永假式，全体小项的析取式为永真式。

#### 二、主析取范式的概念  

有了小项的概念，就可以给出如下主析取范式的定义：  

【定义3.24】对于任意一个给定的析取范式$|A_{1}$ ∨$A_{2}$ $\lor\ldots\;\lor A_{\mathrm{n}}$，如果其中的每个合取  式$A_{i}$$(i=1,2,\dots,n)$都是小项，则称该析取范式为主析取范式。  

在真值表中，公式真值为𝑇的指派所对应的小项的析取，即为该公式的主析取范式。这其实给出了主析取范式的真值表构造方法。

与析取范式相比，主析取范式对其析取运算形式做了进一步规范，具有更加规整的表达形式。对于任一命题公式，下述定理3.9 表明了该公式主析取范式的存在性：  

【定理3.9】任何一个命题公式都有与之等价的主析取范式。



#### 三、主析取范式构造举例  

由前面的讨论可知，对于任一给定的命题公式，其主析取范式的构造方法主要有两种，即真值表法和等值演算法。  

真值表法就是在真值表中选出公式为真的所有行，并在选出的每一行中找到该行解释所对应的小项，将所有这些小项进行析取即可得到相应的主析取范式。  

### 3.4.3 主合取范式  

合取范式由若干析取式通过合取运算组合而成，析取式是组成析取范式的基本构件。同样，造成和取范式表达形式不唯一的根本原因是其基本构件的种类太多而且存在冗余。类似于前面做法，可以对析取式的表达做进一步限定或规范，在保证合取范式基本构件完备性的前提下消除冗余析取式，由此构建具有表达形式唯一性的主合取范式。  

#### 一、大项的概念与性质  

【定义3.25】对于任意一个含有$\cdot_{n}$个命题变元的析取式$G(P_{1},P_{2},\cdots P_{n})$，若 $G(P_{1},P_{2},\cdots P_{n})$中每个命题变元$P_{i}$与其否定$\neg P_{i}$不同时出现，但是两者之一必须出现一次且仅出现一次，而且出现次序与 $P_{1},P_{2},\cdots P_{n}$ 的次序保持一致，则称该 $G(P_{1},P_{2},\cdots P_{n})$ 为一个大项。  

显然，大项是一种在表达形式上具有特殊限制的析取式，要求析取式中的所含变量都要以一定方式出现一次且仅出现一次，对于每个变量，要么以其自身形态出现，要么以其否定形态出现。通过这种限制，就可以实现对命题公式中合取运算的一种规范表达，而且很容易实现对这种规范表达形式的枚举。  

由大项的真值取值特点易知，任意两个不同的大项的析取式为永真式，全体大项的合取式必为永假式。

#### 二、主合取范式的概念  

有了大项的概念，就可给出如下主合取范式的定义：  

【定义3.26】对于任意一个给定的合取范式$|A_{1}$ $\wedge A_{2}$ ∧… ∧$A_{\mathrm{n}}$，如果其中的每个析取  式$A_{i}(i=1,\!2,\dots,n)$都是大项，则称该合取范式为主合取范式。  

$例如，\begin{array}{r}{\phantom{\,\big(}\neg(P\to Q\big)\;\vee\,R\;\Leftrightarrow\;(P\lor Q\lor R)\;\wedge\;(P\lor\neg Q\lor R)\;\wedge\;(\neg P\lor\neg Q\lor R)\;\;\Leftrightarrow\;M_{0}\land M_{2}\land M_{6}}\end{array}$  

对于真值表中某个给定的命题公式，该公式真值为${\bf\nabla}F$的指派所对应大项的合取，即为此公式的主合取范式。由此可以得到主合取范式的一种构造方法，即真值表构造法。

与合取范式相比，主合取范式对其合取运算形式做了进一步规范，具有更加规整的表达形式。对于任一命题公式，下述定理3.10 表明了该公式主合取范式的存在性。  

【定理3.10】任何一个命题公式都有与之等价的主合取范式。  



#### 三、主合取范式构造举例  

与主析取范式类似，对于任一给定的命题公式，其主合取范式的构造方法主要有两种，即真值表法和等值演算法。  

真值表法就是在真值表中选出公式真值为假的所有行，并在选出的每一行中找到该行解释所对应的大项，将所有这些大项进行合取即可得到相应的主合取范式。  



### 3.4.4 主范式间的联系  

如前所述，主析取范式和主合取范式统称为主范式。在主范式的具体构造过程中，有时求主析取范式更加方便，有时求主合取范式更为方便。此时，可以利用其中的一个主范式求出另外一个主范式。为此，我们进一步考察这两种主范式之间的内在联系。  

根据小项与大项的定义，易知二者之间存在着如下关系：  

$$
m_{i}\Leftrightarrow\neg M_{i};\quad M_{i}\Leftrightarrow\neg m_{i}\;\;(i=0,1,2,3,\dotsc,2^{n}-1)
$$

小项与大项之间存在着一种互补关系。  

由于小项与大项之间存在互补关系，而主析取范式和主合取范式又分别由小项或大项构成，因此主析取范式和主合取范式之间存在一种互补关系。下面介绍一种利用主析取范式求主合取范式以及利用主合取范式求主析取范式的方法。  

已知公式$G$的主析取范式，求出公式$G$的主合取范式的步骤如下：

第一步：求出$\neg G$的主析取范式，即公式$G$的主析取范式中没有出现过的小项的析取；  

第二步：$G\Leftrightarrow\neg\;\left(\neg G\right)$，即公式$G$的主合取范式。 已知公式$G$的主合取范式，求出公式$G$的主析取范式的步骤如下：  

第一步：求出$\neg G$的主合取范式，即公式$G$的主合取范式中没有出现过的大项的合取；

第二步：$G\Leftrightarrow\neg\;\left(\neg G\right)$，即公式$G$的主析取范式。  

不难看出，主范式有如下性质：  

（1）命题公式是永真公式当且仅当它的主析取范式包含所有的小项，此时无主合取范式或者说主合取范式为空；  

（2）命题公式是永假公式当且仅当它的主合取范式包含所有的大项，此时无主析取范式或者说主析取范式为空；  

（3）两个命题公式是相等的当且仅当它们所对应的主析取范式相等，或者它们的所对应的主合取范式相等。  

利用主范式的性质，可以使用主范式判断两个命题公式是否等值。



使用主范式的性质，还可以判断命题公式的类型：设𝐴是含有$n$个命题变项的命题公式，若$𝐴$为重言式，当且仅当𝐴的主析取范式中含全部$2^{n}$个小项；若𝐴为矛盾式，当且仅当𝐴的主析取范式中不含任何小项，此时记𝐴的主析取范式为0；若𝐴为可满足式，当且仅当𝐴的主析取范式中至少含一个小项。  



## § 3.5 命题逻辑的演绎推理  

作为研究人类思维基本形式、基本规则和基本规律的逻辑科学，主要包括概念、判断、推理这三个层次内容，由概念形成判断，再由判断形成推理。人们总是将推理作为学习和研究逻辑学的主要任务和主要目的。因此，通常直接将逻辑学定义为研究推理的学科。所谓推理，其实就是由已知命题得到新命题的思维过程。已知的命题称为推理的条件或前提，推得的新命题称为推理的结论。推理一般分为演绎推理和归纳推理这两种基本类型。对于任意一个推理，如果其前提与结论之间具有必然的联系，则称该推理为演绎推理，否则称之为归纳推理。数理逻辑的研究对象为主要是演绎推理，除非特别说明，我们所说的推理均为演绎推理。数理逻辑主要是用数学的方法来研究推理，也就是说通过引入一套数学符号的方法来研究推理。因此，数理逻辑主要研究推理的形式结构，或者说研究采用什么样的形式结构进行推理是有效的，研究采用什么样的形式结构进行推理是无效的。本节主要学习命题逻辑推理的基本知识，包括命题推理的基本概念、命题公式永真蕴含关系与判定、命题推演系统的构成以及命题推证的基本策略。  

### 3.5.1 永真蕴含关系与判定  

从数理逻辑的角度看，演绎推理就是从作为前提的命题公式中推出新的命题公式作为推理结论，而且前提与结论之间具有必然联系。这种必然联系就是如果前提为真，那么结论必然为真。因此，演绎推理的本质就是揭示前提与结论之间的这种永真蕴含关系。作为命题逻辑演绎推理的基础，本小节给出命题公式永真蕴含关系及其判定的基本知识。  

#### 一、永真蕴含的概念与性质  

如同命题公式的等值关系相当于多项式的恒等式关系，命题公式的永真蕴含关系相当于多项式的不等式关系，表达的是命题公式真值的小于或等于关系。  

【定义3.27】设$G(P_{1},P_{2},\cdots,P_{n})$和$H(P_{1},P_{2},\cdots,P_{n})$是任意两个具有相同命题变量的命题公式，如果对于$P_{1},P_{2},\cdots P_{n}$的任意一组真值指派，$G(P_{1},P_{2},\cdots P_{n})$的真值总是不大于$H(P_{1},P_{2},\cdots P_{n})$的真值，即$v(G(P_{1},P_{2},\cdots P_{n}))\leq v(H(P_{1},P_{2},\cdots P_{n}))$，则称$G(P_{1},P_{2},\cdots P_{n})$永真蕴含$H(P_{1},P_{2},\cdots P_{n})$，记作$G(P_{1},P_{2},\cdots P_{n})\ \Rightarrow H(P_{1},P_{2},\cdots P_{n})$，且称$G(P_{1},P_{2},\cdots P_{n})$为永真蕴含的前件，$H(P_{1},P_{2},\cdots P_{n})$为永真蕴含的后件。  

从逻辑含义上看，命题公式$G(P_{1},P_{2},\cdots P_{n})$的真值总不大于$H(P_{1},P_{2},\cdots P_{n})$的真值就意味着：若 $G(P_{1},P_{2},\cdots P_{n})$ 真，则 $H(P_{1},P_{2},\cdots P_{n})$ 必为真，或者说由 $G(P_{1},P_{2},\cdots P_{n})$ 为真可符合逻辑 地推出$H(P_{1},P_{2},\cdots P_{n})$也为真。这正是命题公式之间永真蕴含关系“$\Rightarrow$”的本质含义。  

下面的定理表明命题公式的永真蕴含关系$\scriptstyle"\Rightarrow\ "$与逻辑运算的蕴含联结词“${\rightarrow}$”之间有着非常紧密的联系。  

【定理3.11】设$G(P_{1},P_{2},\cdots P_{n})$和$H(P_{1},P_{2},\cdots P_{n})$是任意两个具有相同命题变量的命题公式，$G(P_{1},P_{2},\cdots P_{n})$永真蕴含$H(P_{1},P_{2},\cdots P_{n})$，有：$G(P_{1},P_{2},\cdots P_{n})\Rightarrow H(P_{1},P_{2},\cdots P_{n})$ 当且仅当命题公式$G(P_{1},P_{2},\cdots P_{n})\rightarrow H(P_{1},P_{2},\cdots P_{n})$为永真公式。  



下面定理表明了永真蕴含关系的基本性质：

【定理3.12】命题公式的永真蕴含关系满足如下三条基本性质：  

（1）自反性：对任意命题公式𝐴，有$A\Rightarrow A$； 

（2）反对称性：对任意命题公式$\cdot A$，$B$，如果$A\Rightarrow B$，并且$B\Rightarrow A$，那么$A\Leftrightarrow B$

（3）传递性：对任意命题公式𝐴，$B$，$C$，如果$A\Rightarrow B$，$B\Rightarrow C$，那么$A\Rightarrow C$。  

 

【定理3.13】设𝐴、$B$为任意两个命题公式，$A\Leftrightarrow B$的充分必要条件是$A\Rightarrow B$，且$B\Rightarrow A$  



#### 二、基本永真蕴含关系  

命题公式的等值演算常常借助一些已经证明为正确的等值式来简化演算过程，例如使用等值蕴含式构造范式。在永真蕴含关系演算中，也可这样做。具体地说，就是首先通过真值表证明一些基本的永真蕴含关系式，然后将这些关系式作为已知工具直接使用，达到简化演算过程的效果。这些关系式一共有15 个，具体如下：  

基本化简律：$I_{1}\colon G\wedge H\Rightarrow G;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {I_{2}\colon G\wedge H\Rightarrow H;}$              

基本附加律：$I_{3}\colon G\Rightarrow G\vee H;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \  \ {I_{4}\colon H\Rightarrow G\vee H;}$           

变形化简律：$I_{5}\colon\neg G\Rightarrow G\to H;\ \ \ \ \ \ \ \ \  \ \ \ \ {I_{6}\colon H\Rightarrow G\rightarrow H;}$                

 变形附加律：$I_{7}\colon\neg(G\to H)\Rightarrow G;\ \ \ \ \ \ \ \ \ {I_{8}\colon\neg(G\rightarrow H)\Rightarrow\neg H;}$

假言推理：$I_{9}\colon G\wedge(G\to H)\Rightarrow H$  ;

拒取式：$I_{10}\colon(G\to H)\wedge\neg H\Rightarrow\neg G$  ;

选言三段论： $I_{11}\colon(G\vee H)\wedge\neg H\Rightarrow G$  ;

假言三段论： $I_{12}\colon(G\to H)\wedge(H\to R)\Rightarrow(G\to R)$  ;

构造性二难推论：$I_{13}\colon(G\to H)\wedge(R\to J)\wedge(G\vee R)\ \ \Rightarrow(H\vee J)$;

构造性特殊二难推论： $I_{14}\colon(G\to H)\wedge(\neg G\to H)\Rightarrow H$ ; 

破坏性二难推论：   $I_{15}$ :   $(G\to H)\land(R\to J)\land(\neg H\lor\neg J)\ \ \Rightarrow(\neg G\lor\neg R)$  。

#### 三、永真蕴含关系判定法  

命题公式永真蕴含关系的判定主要有如下两种基本方法，即真值表法、等值演算法。其每一种判定方法都对应三种不同的解法：①证明蕴含逻辑算式的永真性②假设前件为真，则后件也为真③假设后件为假，则前件也为假。下面将结合实例介绍这两种基本判定方法：  

##### （1）真值表法  

如果要判定公式$A$与公式$B$之间是否存在蕴含关系，可在真值表中分别列出公式$A$与公式$B$的真值，并且验证在每一种真值指派下$A$的真值都小于$B$的真值，这时说明$A$蕴含$B$。  

##### （2）公式演算法  

对于永真蕴含关系的判定和证明，公式演算法与真值表法的基本思路几乎一样，二者的差别仅仅在于求解的表现形式不同，一个通过真值表的枚举，另外一个是通过命题公式的逻辑演算。  

### 3.5.2 命题公式推演系统  

现在我们学习命题的数理逻辑推理。首先给出如下有效推理的概念：  

【定义3.28】设$G_{1},G_{2}\cdots G_{n}$，$H$是一些命题公式，如果它们满足下列性质：对于这些公式的任意一个解释𝐼，$G_{1},G_{2}\cdots G_{n}$在该解释下同时为真的情况下$\cdot_{H}$在该解释下也为真，则称命题公式$G_{1},G_{2}\cdots G_{n}$可有效推出公式$\cdot H$，或称由$G_{1},G_{2}\cdots G_{n}$得到$H$的逻辑推理为有效推理，记为$G_{1},G_{2}\cdots G_{n}\Rightarrow H$，并称$G_{1},G_{2}\cdots G_{n}$为推理前提，$H$为$G_{1},G_{2}\cdots G_{n}$的逻辑结论。  

从上述定义不难看出，有效推理其实就是把永真蕴含关系由两个命题公式之间的关系推广到多个命题公式之间的关系，即由一组命题公式构成的永真蕴含前件与一个永真蕴含后件之间的关系。下面定理表明有效推理的过程其实就是证明逻辑蕴含式的过程。  

【定理3.14】命题公式$H$是命题公式$G_{1},G_{2},\cdots,G_{n}$的逻辑结论，即$G_{1},G_{2},\cdots,G_{n}\Rightarrow H$，当且仅当$G_{1}\wedge G_{2}\wedge\cdots\wedge G_{n}\to H$为永真公式。  

从理论上讲，利用真值表技术完全可以在有限的步骤内完成对任意含有限个命题变量的永真蕴含关系进行判定或者说进行有效的命题逻辑推理。但是，在针对具体问题的命题逻辑推理时，推理的前提条件一般包含很多个命题公式，有时会涉及大量的命题变量，此时真值表方法就出现组合爆炸问题而变的不可行。因此，需要建立一种命题公式推演系统，在少量基本等值关系式和永真蕴含关系式的基础上，通过建立若干推理规则进行演绎推证的方式实现命题逻辑的有效推理。人们提出了很多各具特色的推演系统，我们主要介绍一种最基本的推演系统，下图3-9 表示系统的基本结构。  

![](images/图3-9 推演系统的基本结构.jpg)  

上图表示的推演系统中包括事实库、公理库和推理规则这三个基本模块，公理库和事实库构成命题推理的基本依据。公理库包含已被证明为正确的24 个基本等值式和15 个基本永真蕴含式，这些基本关系式构成推演系统的基础知识资源，事实库由具体命题推理实例的所有前提条件以及推理过程中产生的有效中间结论组成；推理规则是命题逻辑推理的核心机制，主要由$P$规则、$T$规则和$C P$规则这三个基本规则组成。  

（1）$P$规则（前提引用规则）：推导过程中可随时引入前提集合中的任意一个前提。  

（2）$T$规则（逻辑结果引用规则）推导的过程中可随时引入公式𝑆，该公式𝑆是由其前的一个或多个公式推导出来的逻辑结果。  

（3）$C P$规则（附加前提规则）如果能从给定的前提集合$\Gamma$与公式$P$推导出𝑆，则能从此前提集合$\Gamma$ 推导出$P\rightarrow S$。  

注意：$C P$规则适用于结论为条件式的有效推理。使用𝐶𝑃规则就是把结论中的前件作为附加前提加入前提集合，共同去推出结论的后件。  

根据上述命题演算推理系统，就可进行有效的命题逻辑推理。通过有效推理，就可证明命题逻辑中所有定理。所谓证明，就是有效推理的具体推演过程，具体定义如下：  

【定义3.29】从前提集合Г 推出结论$\cdot H$的一个演绎或形式证明，就是构造一个命题公式的有限序列：$H_{1},H_{2},H_{3},\ldots,H_{n}$。其中：$H_{i}$或者是Г 中的某个前提，或者是前面的某些${\cdot}H_{j}(j{<}i)$的有效结论，并且${\cal H}_{n}$就是$H$。此时称$H$为该演绎的有效结论。  



### 3.5.3 命题推证的基本策略  

如前所述，有效推理的过程其实就是证明逻辑蕴含式的过程。因此，命题推证的基本策略主要有真值表法、直接证明法和间接证明法这三种基本类型。  

#### 一、真值表法  

设${\mathcal{}}P_{1},P_{2},\cdots,P_{n}$是出现在前提$G_{1},G_{2},\cdots,G_{n}$和结论H中的一切命题变元，如果将$P_{1},P_{2},\cdots,P_{n}$中所有可能的解释及$G_{1},G_{2},\cdots,G_{n},\mathrm{H}$的对应真值结果都列在一个表中，根据“ $\rightarrow$”的定义，则有判断方法如下：  

1. 对所有$G_{1},G_{2},\cdots,G_{n}$都具有真值𝑇的行（表示前提为真的行），如果在每一个这样的行中，$H$也具有真值$T$，则$H$是$G_{1},G_{2},\cdots,G_{n}$的逻辑结果。  

2. 对所有$H$具有真值为F的行（表示结论为假的行），如果在每一个这样的行中，$G_{1},G_{2},\cdots,G_{n}$中至少有一个公式的真值为$\cdot F$（前提也为假），则H是$G_{1},G_{2},\cdots,G_{n}$的逻辑结果。  



#### 二、直接证明法  

直接证明法就是由一组前提，利用一些公认的推理规则和推理定律进行逻辑推演得到有效结论，或者说仅使用$\pmb{P}$规则和𝑻规则进行证明的方法称为直接证明法。该方法的关键是要熟记常用的推理规则。  



#### 三、间接证明法  

间接证明法不仅使用$P$规则，$T$规则，还使用反证法或$C P$规则的推理方法。在引入间接证明法之前，首先给出公式组相容概念：  

【定义3.30】假设$G_{1},G_{2},\cdots,G_{n}$是一组命题公式，$P_{1},P_{2},\cdots,P_{n}$是出现在$G_{1},G_{2},\cdots,G_{n}$中的一切命题变元，若有解释I使$G_{1}\wedge G_{2}\wedge\cdots\wedge G_{n}$取值为“真”，则称公式$G_{1},G_{2},\cdots,G_{n}$是一致的或相容的，否则称公式$G_{1},G_{2},\cdots,G_{n}$为不一致的，或者说$G_{1}\wedge G_{2}\wedge\cdots\wedge G_{n}$是一个矛盾式。  

利用矛盾式的概念，可以给出一种推导过程，这个过程通常称为矛盾法或间接证明法，常被称为反证法。下面给出反证法的证明。  

【定理3.15】如果命题公式集合$\{G_{1},G_{2},\cdots,G_{n}\}$是相容的，那么从前提集合$\{G_{1},G_{2},\cdots,G_{n}\}$可以逻辑推出公式$\cdot H$，即$G_{1}\wedge G_{2}\wedge\cdots\wedge G_{n}\Rightarrow H$，的充要条件是从前提集合$\{G_{1},G_{2},\cdots,G_{n},\lnot H\}$出发，可以逻辑推出一个矛盾（永假）式来，即$G_{1}\wedge G_{2}\wedge\cdots\wedge G_{n}\wedge\neg H\Rightarrow F_{\circ}$。  



## § 3.6 命题逻辑的应用  

命题逻辑不仅可以培养良好的逻辑思维能力，而且在案件侦破、电路设计等领域具有广泛的实际应用价值。本节主要介绍命题逻辑在案件侦查的自动推理、组合电路设计以及计算机加法器电路设计中的应用。  

### 3.6.1 刑侦推断问题  

命题逻辑推理在案件侦破等领域具有十分重要的作用，可以现有案件线索作为命题逻辑的推理的前提条件进行有效推理，得到有价值的推理结论供案件侦破人员参考。  



### 3.6.2 组合逻辑电路设计  

逻辑电路，又分为逻辑电路和时序逻辑电路。前者由最基本的“与门”、“或门”和“非门”电路组成，其输出值仅依赖于其输入变量的当前值，与输入变量的过去值无关—即不具记忆和存储功能；后者也由上述基本逻辑门电路组成，但存在反馈回路—它的输出值不仅依赖于输入变量的当前值， 也依赖于输入变量的过去值。 命题逻辑是组合逻辑电路设计的理论基础 和基本工具。组合逻辑电路中的 “非门”、 “与门”、 “或门”，即为命题逻辑的“与”、“或”、“非”三种运算。通过利用这三种门，就可以构造出各种组合逻辑电路。  

“与门”和“或门”允许有多个输入。  



### 3.6.3 加法器电路设计  

在逻辑电路中，加法器是产生数的和的装置。加数和被加数作为输入，和位与进位作为输出的装置称为半加法器；若加数、被加数与低位的进位数为输入，而和位与进位作为输出则称为全加法器。  

半加法器可以实现两个1 位的二进制数字 $P$ 、$Q$ 相加，并且输出和位 𝑆 和进位 𝐶 。它的真值表如表3-32 所示。  

当 $P$ 、 $Q$ 一个为0 一个为1 的时候 $S$为1，两个为0 或两个为1 时 $S$ 为0，故半加法器和位 $S$电路可用异或门连接；进位 $C$ 为1 当且仅当$P$ 、 $Q$均为1，故进位 $C$可用与门连接。

全加法器在半加法器基础上增加了进位。全加法器的输入是两个二进制数字 $P$ 、$Q$ 以及进位 $C_{i}$ ，输出是和位 $S$与新的进位 $C_{i+1}$。

全加法器的两个输出和位 $S$ 与新的进位 $C_{i+1}$的逻辑表达式分别为 

$𝑆⇔(𝑃∧𝑄∧𝐶 𝑖 ) ∨(𝑃∧¬𝑄∧¬𝐶 𝑖 ) ∨(¬𝑃∧𝑄∧¬𝐶 𝑖 ) ∨(¬𝑃∧¬𝑄∧𝐶 𝑖 )  $

$C_{i+1}\Leftrightarrow(P\land Q\land C_{i})\lor(P\land Q\land\lnot C_{i})\lor(P\land\lnot Q\land C_{i})\lor(\lnot P\land Q\land C_{i})$  

可以使用多个半加法器来产生全加法器输出。  

$$
S=(P\land Q\land C i)\lor(P\land\neg Q\land\neg C i)
$$
