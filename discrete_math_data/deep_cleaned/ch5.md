# 第五章 关系模型与理论  

事实上，关系问题也是数学学科的一个重要研究对象，处理关系的数学理论诞生于著名数学家豪斯道夫1914 年出版的著作《集论基础》。经过100 多年的发展，关系数学理论已与集合论、数理逻辑、组合学、图论和布尔代数等多个数学分支交叉融 合，并通过吸收、借鉴这些数学分支的相关内容形成了一套相对完备的关系数学理论。

关系的数学理论以集合论为基础，旨在描述给定集合上元素与元素之间的二元或多元关系，并考察集合中元素之间在一定次序下是否具备某些特定关系。从本章开始的连续三章将系统地介绍和讨论关系的数学模型与理论，本章着重介绍关系数学模型与理论的基本知识，包括关系的数学模型、关系的基本运算、关系的基本性质、关系集合的闭包等。  

## § 5.1 关系的数学模型

从数学角度看，有些关系比较容易用数学符号表达。但在很多时候，问题并没有这么简单。我们其实得到一种刻画两个集合中元素之间关系新方法，即首先将这两个集合组合成一个高维空间，然后用高维空间中点的集合来表示两个集合元素之间的关系。显然，这种新方法比前述用符号表示大小关系的传统方法更具普适性。本节着重介绍使用这种新方法构建的关系数学模型，为此首先介绍由两个集合组合成一个高维空间的数学机制，即元素的序偶与集合的笛卡尔积。  

### 5.1.1  序偶与笛卡尔积  

要用数学方式表达关系模型，首先必须建立有一种有效的数学机制将来自相同集合或不同集合的两个元素绑定在一起，以表明它们之间具体某种特定的关系。为此，下面给出二元组的相关概念来实现这种机制。  

【定义5.1】假设$A$和$B$是任意给定的两个集合，则对于分别来自这两个集合中的元素$x$和𝑦，可将它们组合成一个整体并称之为二元组。如果这个二元组为无序二元组，则称其为无序偶对，简称为无序偶，通常记为$(x,y)$；如果这个二元组为有序二元组，则称其为有序偶对，简称为序偶，通常记为$\langle x,y\rangle$，并称$\cdot x\in A$为第一元素，$y\in B$为第二元素。  

在关系的数学理论中，通常使用序偶的概念绑定具有某种确定联系的两个元素。事实上序偶的用途非常广泛，日常生活和工作中的很多问题或概念都可用序偶表示。

由序偶的定义容易知道，序偶可以看作是具有两个元素的集合，但序偶中的两个元素是具有确定次序的，如果两个含有两个元素的集合相等，并不意味着这两个集合元素构成的序偶相等，因此即使成立$\{a,b\}=\{b,a\}$，在$a\neq b$的情况下会有：成立$\langle a,b\rangle\neq\langle b,a\rangle$。

下面给出两个序偶相等的具体定义：  

【定义5.2】假设$\langle a,b\rangle$和$\langle c,d\rangle$是任意给定的两个序偶，如果$a=b$，$c=d$，那称这两个序偶相等，记为：$\langle a,b\rangle=\langle c,d\rangle$。  

从上述定义可知，两个序偶相等当且仅当这两个序偶在对应位置上的元素相等。例如，若有$\langle2x-3y,3x+2y\rangle=\langle1,3\rangle$，则有$2x-3y=1$且$3x+2y=3$；反之亦然。  

显然，可将上述序偶及其相等的相关定义自然推广到多个元素的情形。例如，对于任意给定的三个元素$x,y,z$，则可根据如下递归方式定义由这三个元素组成的有序三元组：  

$$
\langle x,y,\mathrm{z}\rangle=\langle\langle x,y\rangle,\mathrm{z}\rangle\tag{5-1}
$$

从上式可以看出，所谓有序三元组，其实就是序偶的序偶。一般地，可得到如下关于$^{\cdot n}$元有序组的相关定义：  

【定义5.3】由$n$个元素$a_{1}$ ,$a_{2},\dotsc,a_{n}$组成 $n$元有序组由$n-1$元有序组$\langle a_{1}\;\,,a_{2},\dots,a_{n-1}\rangle$和元素$a_{n}$组成的序偶，记作$\langle a_{1}\ ,a_{2},\ldots,a_{n}\rangle$。即：$\langle a_{1}\;\;,a_{2},\ldots,a_{n}\rangle=\langle\langle a_{1}\;\;,a_{2},\ldots,a_{n-1}\rangle,a_{n}\rangle$。  

【定义5.4】假设$\langle a_{1}\ ,a_{2},\ldots,a_{n}\rangle$和$\langle b_{1},b_{2},\dots,b_{n}\rangle$是任意给定的两个$ n$元有序组，如果$a_{i}=$$b_{i}$，$i=1,2,\dots,n$，则称它们相等，记为：$\langle a_{1}\,\ ,a_{2},\ldots,a_{n}\rangle=\langle b_{1},b_{2},\ldots,b_{n}\rangle\,.$。  

【定义5.5】设$A,B$是任意给定的两个集合，用$A$中任意一个元素为第一元素、$B$中任任意一个元素为第二元素构成的所有可能的序偶组成的集合，称为$A$ 与$B$ 的笛卡尔积，亦称为$A$ 与$B$ 的直积，记为$A\times B$。即有：$A\times B=\{\langle x,y\rangle|(x\in A)\land(y\in B)\}$。  

由上述定义可知，集合$A$ 与$B$ 的笛卡尔积运算结果$A\times B$仍是一个集合，并且$A\times B$中的每个元素都是一个序偶，序偶中第一个元素取自集合$A$、第二个元素取自集合$B$。  



  下面定理表明笛卡尔积运算对集合的并运算和交运算均满足分配律：  

【定理5.1】设$A$、$B$、$C$ 是任意集合，则有：  

$A\times(B\cup C)=(A\times B)\cup(A\times C);\quad A\times(B\cap C)=(A\times B)\cap(A\times C);$    

$(A\cup B)\times C=(A\times C)\cup(B\times C);\quad(A\cap B)\times C=(A\cup C)\times(B\times C)\,$。  



【定理5.2】设$A$、${B}、{C}$ 是任意集合且$C\neq\emptyset$，则有：  
$$
A\subseteq B\Leftrightarrow(A\times C\subseteq B\times C);\,\,\,A\subseteq B\Leftrightarrow(C\times A\subseteq C\times B)
$$


【定理5.3】设$A、B、C、D$为非空集合，则有：  
$$
A\subseteq C\land B\subseteq D\Leftrightarrow A\times B\subseteq C\times D
$$




【定理5.4】假设集合$\cdot A_{1},A_{2},\cdots,A_{n}$均为有限集合，则有：  
$$
|A_{1}\times A_{2}\times\cdots\times A_{n}|=|A_{1}|\times|A_{2}|\times\cdots\times|A_{n}|
$$
### 5.1.2  关系的概念  

现在我们使用序偶与笛卡尔积这两个概念建立表示两个元素之间二元关系的数学模型。可用序偶的集合或者笛卡尔集的某个子集合来构造二元关系的数学模型。据此得到如下关于二元关系的定义：  

【定义5.6】设$𝐴$, $B$是任意给定的两个非空集合，$R$是$A\times B$的任何一个给定的子集合，则称$R$ 是一个从$𝐴$到$B$的二元关系，简称为关系。也就是说，若$R\subseteq A\times B$，则称$R$是$𝐴$到$B$的一个二元关系，若$\ R\subseteq A\times A$，则称$R$是$𝐴$上的一个二元关系。特别地，若$R=\emptyset$，则称$R$ 为空关系；若$R=A\times B$，则称$R$ 为全关系。  

【定义5.7】设$𝐴$, $B$是任意给定的两个非空集合，$R$是$𝐴$到$B$的一个二元关系，对于$A\times B$中的任意一个序偶$\langle x,y\rangle$，若$\langle x,y\rangle\in R$，这称集合$𝐴$中的元素$x$与集合$\ B$中的元素$𝑦$之间具有关系$R$；若$R$是$𝐴$上的一个二元关系且$\langle x,y\rangle\in R$，则称集合𝐴中的元素$x$与$𝑦$之间具有关系$R$。  

【定义5.8】设$𝐴$, $B$是任意给定的两个非空集合，$R$是$𝐴$到$B$的一个二元关系，则有：称$A$是$R$的前域， $B$是$R$的后域；由$R$ 中所有序偶的第一元素构成的集合称为$R$ 的定义域，记作$dom𝑅$，即有$\mathrm{dom}R=\{x|\langle x,y\rangle\in R\}$；由$R$ 中所有序偶的第二元素构成的集合称为$R$ 的值域，记作$ran𝑅$，即有$\mathrm{ran}R=\{y|\langle x,y\rangle\in R\}$；称$\mathrm{fld}R=\mathrm{dom}R\cup\mathrm{ran}R$为$R$ 的域。  

### 5.1.3 关系的表示  

如前所述，我们使用集合定义一个二元关系，即任何一个二元关系都是笛卡尔积集合的某个特定子集。既然关系是一种集合，那么自然就可用表示集合的方法来表示关系。但是，关系的集合表示法有时候不能直观地展现关系的特点和性质，也不便于计算机处理。因此，有时需要使用图模型或矩阵来表示关系。由此得到关系的图示法和矩阵表示法。下面具体介绍和讨论关系的这些表示方法。  

#### 1、集合表示法（枚举法和描述法）  

关系的集合表示法主要有枚举法和描述法两种。所谓枚举法，就是将作为关系的集合中所有序偶一一枚举出来；所谓描述法，就是用集合的描述法表示作为关系的集合。

#### 2、有向图表示法  

图是一种非常重要的数学模型，是问题表示和求解的基本工具。一般来说，图模型由一些结点和一些联结结点的边构成，一条边关联且仅关联两个结点。对于任意给定的一条边，如果将关联这条边的其中一个结点确定为起点，另外一个结点确定为终点，则称该边为有向边，若一个图中的每条边都是有向边，则称该图为有向图。在一般情况下，有向图只能表示有限集合上的二元关系。下面给出二元关系的一种有向图表示方法，通常称表示关系的有向图为关系图。  

假设𝐴, $B$是任意给定的两个非空有限集合，$R$是$𝐴$到$B$的一个二元关系：

（1）当$A\ne B$时，不妨设$A=\{a_{1},a_{2},\cdots,a_{n}\}$，$B=\{b_{1},b_{2},\cdots,b_{m}\}$，则可将$𝐴,$ $B$中每个元素分别看成是有向图的一个结点，用“ ∘”表示，并将$𝐴$中元素$a_{1},a_{2},\cdots,a_{n}$对应的结点放在左边一列作为有向边的起点，将$B$中元素$\cdot b_{1},b_{2},\cdots,b_{m}$对应的结点放在右边一列作为有向边的终点。对于关系$R$中的每个序偶，则构成有向图中的一条有向边，也就是说，对于$𝐴$中的任一元素$a_{i}$和$B$中的任一元素$b_{j}$组合而成的序偶$\langle a_{i},b_{j}\rangle$，当且仅当$\langle a_{i},b_{j}\rangle\in R$时，以$a_{i}$对应的结点为起点、以$b_{j}$对应的结点为终点画出一条有向边，由此得到$R$的关系图。  

（2）当$A=B$时，设$A=B=\{a_{1},a_{2},\cdots,a_{n}\}$，此时$R$ 是集合$𝐴$上的关系，则将$𝐴$中的每个元素分别看成是有向图中的一个结点，用“ ∘”表示，对于任意一个序偶$\langle a_{i},a_{j}\rangle$：  

如果$a_{i}$和$a_{j}$对应的不是同一个结点，则当且仅当$\langle a_{i},a_{j}\rangle\in R$时，使用以$a_{i}$对应的结点为起点、以$b_{j}$对应的结点为终点的有向边联结$a_{i}$和$a_{j}$对应的两个结点；如果$a_{i}$和$a_{j}$对应的是同一个结点，即$a_{i}$和$a_{j}$是$𝐴$中同一个元素，则当且仅当$\langle a_{i},a_{i}\rangle\in R$时，则在$a_{i}$对应的结点上画一个从该结点出发并回到该结点的有向小圆环。  

#### 3、矩阵表示法  

在使用关系的数学模型对实际问题进行建模的时候，通常需要对关系模型进行一些定量的数值计算以实现对实际问题的求解，此时无论是关系的集合表示方法和关系图法，都不方便实现对关系模型定量的数值计算。为此，我们引入二元关系的矩阵表示法。  

假设$\boldsymbol A=\{a_{1},a_{2},\cdots,a_{n}\}$, $B=\{b_{1},b_{2},\cdots,b_{m}\}$是任意给定的两个非空有限集合，$R$是$A$到$B$的一个二元关系，则按下列方式定义的$m\times n$阶矩阵$M_{R}=(r_{i j})_{m\times n}$称为$R$的关系矩阵：  
$$
r_{ij}=\begin{cases}1\text{,若}\langle a_i,b_j\rangle\in R\\0\text{,若}\langle a_i,b_j\rangle\not\in R\end{cases}\quad(1\leq i\leq m,1\leq j\leq n)\quad\text{(5-3)}
$$
其中$A$中元素$a_{i\cdot}$序号对应矩阵元素的行下标，$B$中元素$b_{j}$序号对应矩阵元素的列下标。

值得注意的是：由关系矩阵的定义可知，关系矩阵的元素有且仅有0 和1 这两种状态，这样的矩阵一般称之为布尔矩阵，主要用于一些逻辑演算，在运算规则上与普通矩阵有一些差异。为满足后续内容学习的需要，在此简要介绍布尔矩阵的若干基本运算，具体包括并运算、交运算、补运算和布尔积运算，其具体定义如下：  

【定义5.9】设$A=\left(a_{i j}\right)$和$B=\left(b_{i j}\right)$是两个$m\times n$布尔矩阵，则$𝐴$和$B$的并矩阵定义为如下$m\times n$布尔矩阵：$A\lor B=C=\left(c_{i j}\right)$，其中：  

$c_{ij}=\begin{cases}1\text{,如果}a_{ij}=1\text{ 或}b_{ij}=1\\0\text{,如果}a_{ij}=0\text{ 且}b_{ij}=0\end{cases}(1\leq i\leq m,1\leq j\leq n)\quad\text{(5-4)}$      （5-4）  

【定义5.10】设$A=\left(a_{i j}\right)$和$B=\left(b_{i j}\right)$是两个$m\times n$布尔矩阵，则$A$和$B$的交矩阵定义为如下一个$m\times n$布尔矩阵：$A\land B=C=\left(c_{i j}\right)$，其中：  
$$
c_{ij}=\begin{cases}1\text{,如果}a_{ij}=1\text{ 且}b_{ij}=1\\0\text{,如果}a_{ij}=0\text{ 或}b_{ij}=0\end{cases}(1\leq i\leq m,1\leq j\leq n)\quad\text{(5-5)}
$$
【定义5.11】设$A=\left(a_{i j}\right)$任意给定的一个$m\times n$布尔矩阵，则𝐴的补矩阵定义为如下$m\times$$n$布尔矩阵：$\bar{A}=C=\left(c_{i j}\right)$，其中：  
$$
c_{ij}=\begin{cases}1\text{,如果}a_{ij}=0\\0\text{,如果}a_{ij}=1\end{cases}\quad(1\leq i\leq m,1\leq j\leq n)\quad\text{(5-6)}
$$
【定义5.12】设$A=\left(a_{i j}\right)$是$m\times p$矩阵，$B=\left(b_{i j}\right)$是$p\times n$矩阵，则$𝐴$和$B$的布尔积矩阵定义为如下$m\times n$布尔矩阵：$A\odot B=C=\left(c_{i j}\right)$，其中：  

$$
c_{ij}=\begin{cases}1\text{,如果}a_{ij}=0\\0\text{,如果}a_{ij}=1\end{cases}\quad(1\leq i\leq m,1\leq j\leq n)\quad\text{(5-6)}
$$
需要注意的是：两个布尔矩阵可进行布尔或和布尔与运算的前提是这两个矩阵具有相同的行数和列数，可进行布尔积运算的前提是前一个矩阵的列数等于后一个矩阵的行数。  

在学习了二元关系的三个基本表示方法后，下面我们考察空关系、完全关系和恒等关系这三个常用特殊关系的关系矩阵和关系图各有什么特点：  

(1) 空关系$\varnothing$  因为$\emptyset\subseteq A\times B$(或$\emptyset\subseteq A\times A)$)，所以$\varnothing$也是一个从$𝐴$到$B$(或$𝐴$上)的关系，称之为空关系，即无任何元素的关系。空关系的关系图中只有结点，无任何边，且关系矩阵中的元素全是0  

(2) 完全关系（全域关系） $A\times B$或(或$A\times A)$本身也是一个从$𝐴$到$B$(或$𝐴$上)的关系，称之为完全关系，即含有全部序偶的关系。完全关系的关系图中所有结点之间都有有向边互联，关系矩阵中的元素全是1。  

(3) 恒等关系 $I_{A}$  $I_{A}\subseteq A\times A$，则$I_{A}=\{\langle x,x\rangle|x\in A\}$为$A$上的恒等关系。完全关系的关系图中所有结点都有一个有向环，不同结点之间无任何有向边联结。  



## § 5.2 关系的基本运算  

本节在关系概念的基础上考察关系的基本运算。首先，关系作为一种特殊的集合，可以按集合的概念进行交、并、差、补等集合运算。此外，从关系图可以看出，从集合$𝐴$到集合$B$的关系是一种从此到彼的方向性联系，故此可将两个关系通过适当的方式进行合成或串接形成一个新的关系，由此得到关系的复合运算。由关系的集合运算与复合运算还可进一步衍生出关系的幂运算、逆运算，以及面向数据库操作的连接、投影等专用关系运算。  

### 5.2.1 关系的集合运算  

二元关系是以序偶为元素的集合，因此可以对它进行集合的运算，通过集合的交、并、差、补等运算而产生新的集合。这些新的集合显然也是由序偶组成的集合，因而也是关系。具体地说，如果$R、{S}$ 是$X$到$Y$的二元关系，那么$R\cup S$，$R\cap S$，$R-S$，$\bar{R}$也是$X$到$Y$的二元关系。具体定义如下：  

【定义5.13】设$R$、$S$都是从集合$A$ 到$B$ 的两个关系，则可按下列方式定义它们的交、并、差、补运算：  
$$
R\cup S=\{\langle x,y\rangle|(x R y)\lor(x S y)\};\quad R\cap S=\{\langle x,y\rangle|(x R y)\land(x S y)\}
$$

$$
R-S=\{\langle x,y\rangle|(x R y)\wedge(x S y)\};\quad\bar{R}=\{\langle x,y\rangle|(x S y)\}
$$
有关集合交、并、差、补运算的性质，对上述定义的关系集合运算显然也是成立的，这些性质就不再一一赘述了。这里就需要注意的是：对于任意一个从集合$A$ 到$B$ 的二元关系$R$，从集合的角度看$A\times B$是相对于$R$ 的全集，故有：  
$$
\bar{R}=A\times B-R;\;\;\bar{R}\cup R=A\times B;\;\;\bar{R}\cap R=\emptyset;\;\;\bar{R}=R;\;\;S\subseteq R\Leftrightarrow\bar{R}\subseteq\bar{S}
$$
不难看出，关系的交、并、差、补运算结果还可以通过关系矩阵的计算得到：  
$$
M_{H\cup S}=M_{H}\lor M_{S};\,\,\,M_{H\cap S}=M_{H}\land M_{S};\,\,\,M_{\bar{H}}=\bar{M}_{H};\,\,\,M_{H-S}=M_{H}\land\bar{M}_{S}
$$


### 5.2.2 关系的复合运算  

日常生活和工作中很多关系问题仅用关系的集合运算不能得到有效的解决。例如：假设集合$𝐴$表示某家族的全部成员构成的集合，在$𝐴$上定义如下两个关系$R$和$𝑆$：  

$R$表示$A$上的兄弟关系，$\langle x,y\rangle\in R$,当且仅当$x$是$y$的兄弟;

$S$表示 $A$ 上的父子关系，$\langle y,z\rangle\in S$,当且仅当$y$ 是$z$ 的父亲。

则可通过元素$y$的中间媒介或传递作用，在$x$与$z$之间产生一个新的关系，即叔侄关系。换句话说，叔侄关系是由兄弟关系和父子关系的合成。  

一般地，将关系这种合成机制进行抽象，用数学语言进行表达，就得到如下关系复合运算的定义：  

【定义5.14】假设$A$、$B$、$C$ 是三个非空集合，$R$ 是从$A$ 到$B$ 的关系，$S$ 是从$B$ 到$C$的关系，则$R$ 与$S$ 的复合关系$R\circ S$定义为如下从$A$ 到$C$的关系：  

$$R\circ S=\{\langle x,z\rangle|x\in A\land z\in C\land(\exists y)(y\in B\land x R y\land y S z)\quad\text{(5-5)}$$  

运算“ ∘”称为复合运算。  

从上述定义可知：不是任意两个关系都能进行复合运算，当且仅当$R$ 的后域是$S$的前域时，$R$ 和$S$ 才可复合；$R\circ S$的前域是$R$ 的前域$A$，$R\circ S$的后域是$S$ 的后域$C$。  

任何一个关系都有集合、关系图和矩阵这三种表现形式，复合运算在这三种不同表现形式下分别具有相应的具体计算方法，下面分别介绍这三种复合计算方法。  

令$A=\{a_1,a_2,\cdots,a_m\},B=\{b_1,b_2,\cdots,b_n\},C=\{c_1,c_2,\cdots,c_t\},R$ 是$A$ 到$B$ 的关系，$S$ 是$B$ 到 $C$ 的关系，即有$R$$\subseteq{A}\times{B}$, $S$$\subseteq{B}\times{C}$, 则$R\circ S$可按下列方法进行计算. 

#### 1. 集合法

由复合运算的定义可知，对于任意的 $a_{i}\in A,c_{j}\in C$ ，若 $\langle a_{i},c_{j}\rangle\in R\circ S$ ，则 必然存在某个$b_{k}\in B$，使得$\langle a_{i},b_{k}\rangle\in R$并且$\langle b_{k},c_{j}\rangle\in S$。故对于$R$中每个给定的序偶$\langle a_{i},b_{k}\rangle$，要在$S$中寻遍第一元素为$b_{k}$的序偶$\langle b_{k},c_{j}\rangle$，若存在$\langle b_{k},c_{j}\rangle\in S$，则取$R$中$\langle a_{i},b_{k}\rangle$的第一元素，以及$S$中对应序偶$\langle b_{k},c_{j}\rangle$的第二元素，形成一个新的序偶$\langle a_{i},c_{j}\rangle$，该序偶即为$R\circ S$中的一个元素。同理可找出$R\circ S$中的所有元素。  

#### 关系图法

由复合运算的定义可知，对于分别属于关系$R$ 和$S$的两个序偶，它们之间能够复合的关键在于能够在这两个序偶之间找到一个桥梁$b_{k}$，使得$b_{k}$既是前一个序偶($R$中序偶)的第二元素，同时又是后一个序偶(S 中序偶)的第一元素。因此，在画复合关系的关系图时，首先应该在$R$ 和$S$ 这两个关系的关系图中搭起这个桥梁，然后拆掉中间的桥梁，直接联结经过该桥梁的两个结点，便可得到$R\circ S$的关系图。  

#### 关系矩阵法

将$R$ 和$S$ 的关系矩阵做布尔积运算$\odot$，即可得到$\mathrm{~\tt~R~o~}S$的关系矩阵，然后根据该矩阵写出$R\circ S$中元素即可。也就是说，令$R$ 和$S$ 的关系矩阵分别为：  
$$
M_{R}=\begin{pmatrix}\langle a_1,b_1\rangle&\langle a_1,b_2\rangle&\cdots\langle a_1,b_n\rangle\\\langle a_2,b_1\rangle&\langle a_2,b_2\rangle&\cdots\langle a_2,b_n\rangle\\\vdots\\\langle a_m,b_1\rangle\langle a_m,b_2\rangle&\cdots\langle a_m,b_n\rangle\end{pmatrix};\quad M_{S}=\begin{pmatrix}\langle b_1,c_1\rangle&\langle b_1,c_2\rangle&\cdots&\langle b_1,c_t\rangle\\\langle b_2,c_1\rangle&\langle b_2,c_2\rangle&\cdots&\langle b_2,c_t\rangle\\\vdots\\\langle b_n,b_1\rangle\langle b_n,c_2\rangle&\cdots\langle b_n,c_t\rangle\end{pmatrix}
$$
则有：  
$$
M_{R\circ S}=M_{R}\odot M_{S}=\left(\begin{array}{c}{{\langle a_{1},c_{1}\rangle\ \langle a_{1},c_{2}\rangle\ \cdots\ \langle a_{1},c_{t}\rangle}}\\ {{\langle a_{2}.\,c_{1}\rangle\ \langle a_{2},c_{2}\rangle\ \cdots\ \langle a_{2},c_{t}\rangle}}\\ {{\vdots}}\\ {{\langle a_{m},c_{1}\rangle\langle a_{m},c_{2}\rangle\cdots\langle a_{m},c_{t}\rangle}}\end{array}\right)
$$


【定理5.5】设$A$、$B$、$C$ 和$D$ 是任意四个集合，$R$、$S$和$T$ 分别是从$A$ 到$B,\ B$到$C$和$C$ 到$D$ 的二元关系，$I_{A}$和$I_{B}$分别是$A$ 和$B$ 上恒等关系，则有：  
$$
(1) (R\circ S)\circ T=R\circ(S\circ T);\quad(2) I_A\circ R=R\circ I_B=R
$$


【定理5.6】设$A$、$B$、$C$和$D$ 是任意四个集合，$R$ 是$A$ 到$B$ 的关系，$S_{1},\ S_{2}$是从$B$ 到$C$的关系，$T$是从$C$ 到$D$ 的关系，则有：  

（1）$R\circ(S_{1}\cup S_{2})=(R\circ S_{1})\cup(R\circ S_{2});\,\,\,(2)\,\,\,R\circ(S_{1}\cap S_{2})\subseteq(R\circ S_{1})\cap(R\circ S_{2});$ （3）$(S_{1}\cup S_{2})\circ T=(S_{1}\circ T)\cup(S_{2}\circ T);\ \ (4)\ \ (S_{1}\cap S_{2})\circ T\subseteq(S_{1}\circ T)\cap(S_{2}\circ T)。$  


复合运算对并运算具有完全的分配律，即分配律是以集合相等的方式出现，但复合运算对交运算不具备完全分配律，只有半分配律，也就是说，分配律是以集合包含的方式出现。如果要将关系的这些运算与数的相关运算做一些类比的话，那么关系的复合运算就比较类似于数或矩阵的乘法运算，而关系的并运算就比较类似于数或矩阵的加法运算。事实上，从复合运算和并运算的关系矩阵运算特点上，就可看出它们与数乘、数加以及矩阵乘、矩阵加的类似之处。  

### 5.2.3 幂关系与逆关系  

如前所述，关系的复合运算满足结合律。也就是说，如果有多个关系进行复合运算，只要不交换它们的运算次序，不管哪个先参与合成，最后结果都一样。由此可见，对于某个集合上的一个二元关系，如果它可以不断地与自己做复合运算，那么运算结果只与该关系以及复合运算次数有关，而与复合的次序无光。由此可得如下关系方幂运算的概念：  

【定义5.15】设$R$ 是集合$A$ 上的关系，则可归纳定义$R$ 的$n$次方幂${R^{n}}$运算如下：  

$（1）R^{0}=I_{A}=\left\{\langle a,\ a\rangle\big|a\in A\right\};\quad(\,2\,)\,\ R^{1}=R;\ (\,3\,)\,\ R^{n+1}=R^{n}\circ R=R\circ R^{n}\circ R.$ 

方幂运算的结果也显然也是$A$ 上的二元关系，即对于任何自然数$k$，有$R^{k}\subseteq A\times A$。通常称为$R$的方幂关系或幂关系，不难证明方幂运算满足如下运算法则：
$$
R^{m}\circ R^{n}=R^{m+n};\,\,\,(R^{m})^{n}=R^{m n}
$$

【定理5.7】设𝐴是一个具有${n}$个元素的有限集合，$R$ 是$𝐴$上的二元关系，则必存在自然数$s$ 和$t$，使得$R^{s}=R^{t}$，$0\leq s<t\leq2^{n^{2}}$。  

上述定理表明，对于任意一个有限集合，该集合上的二元关系总共只有有限多个，而对于该集合上的二元关系，其方幂运算则可以无限地进行下去且运算结果均为该集合上的二元关系。因此，在一定次数的方幂运算之后，后续的方幂运算结果自然是以某种循环的方式出现，或者以恒等于某个特定关系的方式出现。  

【定义5.16】设$A,\ B$ 是任意两个集合，$R$ 是$A$ 到$B$ 的关系，则从$B$ 到$A$ 的关系：  
$$
R^{-1}=\{\langle b,a\rangle|\langle a,b\rangle\in R\}\quad\text{(5-9)}
$$
称为$R$ 的逆关系，运算“-1”称为关系的逆运算。  

关于逆关系概念的理解，需要注意如下几个要点：（1）关系是序偶的集合，逆关系也是序偶的集合；（2）如果$R$ 是一个关系，则其逆关系$R^{-1}$和补关系$\bar{R}$都是关系，但是两者是完全不同的两个关系，千万不要混淆；（3）显然有$(R^{-1})^{-1}=R$，$\varnothing^{-1}=\varnothing$。  

【定理5.8】设$A$，$B$ 和$C$是任意三个集合，$R$，$S$ 分别是从$A$ 到$B$ 和$B$ 到$C$的二元关系，则有：$(R\circ S)^{-1}=S^{-1}\circ R^{-1}$  

下面定理给出了关系逆运算与关系集合运算之间的分配运算律：

【定理5.9】设$R,\ S$是从集合$A$ 到集合$B$ 的关系，则有如下分配律：  
$$
(R\cup S)^{-1}=R^{-1}\cup S^{-1};\;\;(R\cup S)^{-1}=R^{-1}\cup S^{-1};\;\;(R-S)^{-1}=R^{-1}-S^{-1}
$$
对于任意给定的集合𝐴和$B$，目前所讨论的二元关系有两种基本类型，一种是集合$𝐴$到集合$ B$上的二元关系，另外一种是集合𝐴上的二元关系。事实上，这两种关系没有本质上的区别，因为若令$C=A\cup B$，则集合$𝐴$到集合$B$上的二元关系就可以看成是$C\times C$的几个子集合，或者说是$C$上的二元关系。因此，在后续内容中所说的关系，若非特别说明，均为某个集合上的关系而不是从某个集合到另外一个集合上的关系。  

## § 5.3 关系的基本性质  

现实世界中的关系错综复杂、种类繁多，这给我们使用关系的数学模型表示和解决关系问题带来一定的困难。因此，为了比较方便地研究和使用关系的数学模型，本节建立考察关系特性的若干标准并将这些标准看成是关系的基本性质。对于任意给定的一个关系，就可以使用这些标准来考察或评判该关系满足或不满足这几个标准中的哪几条，换句话说，就是考察该或评判该关系具有哪些基本性质。这样就可以依据这些标准将所有的关系划分为若干类型进行分门别类的研究。关系的这些考察标准或基本性质一共有五个，即自反性、反自反性、对称性、反对称性和传递性，本节具体介绍这些基本性质的概念及判定方法。  

### 5.3.1 关系的自反与反自反  

日常生活和工作中的很多关系，如同学关系、实数的相等关系、正整数的整除关系等，每个元素都与其自身之间具有这种关系，此时称这些关系具有自反性质。具体定义如下：  

【定义5.17】设$R$ 是集合$A$ 上的关系，若对$\forall x\in A$，都有$\langle x,x\rangle\in R$，则称$R$ 在$A$ 上是自反关系，或称$R$ 具有自反性。即：

$(\forall x)(x\in A\to\langle x,x\rangle\in R)\Leftrightarrow R\text{为自反关系}\quad\text{(5-10)} $

与之相反的是，对于有些关系，例如父子关系、实数的小于关系、夫妻关系等，每个元素都不可能与其自身之间具有这种关系，此时称这些关系具有反自反性质。具体定义如下：  

【定义5.18】设$R$ 是集合$A$ 上的关系，若对$\forall x\in A$，都有$\langle x,x\rangle\notin R$，则称$R$ 在$A$ 上是反自反关系，或称$R$ 具有反自反性。

结论如下：  

（1）如果关系$R$ 是自反的，那么该关系一定不是反自反的；关系$R$ 是反自反的，则该关系一定不是自反的。 

（2）存在既不是自反也不是反自反的关系；  

（3）关系$R$ 是自反的，当且仅当系图中每个结点都有一个自环；关系$R$ 是反自反的，当且仅当图中每个结点都没有自环； 

（4）关系$R$ 是自反的，当且仅当其关系矩阵的主对角线上全为1；关系$R$ 是反自反的，当且仅当其关系矩阵的主对角线上全为0。  



### 5.3.2 关系的对称与反对称  

有很多关系具有一些对称的性质。关系对称性的具体定义如下：  

【定义5.19】设$R$ 是集合$A$ 上的关系，对任意$x,y\in A$，若$\langle x,y\rangle\in R$，则有$\langle y,x\rangle\in R$，则称关系$R$ 是对称关系，或称关系$R$ 具有对称性。即有：  

$(\forall x)(\forall y)(x\in A\land y\in A\land\langle x,y\rangle\in R\rightarrow\langle y,x\rangle\in R)\Leftrightarrow R$为对称关系；$\quad\text{(5-12)}$

还有一些集合上的关系，集合中的所有元素与其自身之外任何元素之间的关系都不具有对称性，例如正整数的整除关系，对于任意两个正整数，除非这两个整数相等，否则它们之间不可能相互整除，也就是说，对于任意两个正整数$a$和$b$，如果$a|b$且$b|a$，则必有$a=b$。关系的这种性质称为反对称性，具体定义如下：  

【定义5.20】设$R$ 是集合$A$ 上的关系，若对任意$x,y\in A$，满足$\langle x,y\rangle\in R$且$\langle y,x\rangle\in R$  

则有$a=b$，则称关系$R$ 是反对称关系，或称$R$ 具有反对称性。即有：$(\forall x)(\forall y)(x\in A\land y\in A\land\langle x,y\rangle\in R\land\langle y,x\rangle\in R\to x=y)\Leftrightarrow R$为反对称关系  



结论如下：  

（1）存在既不是对称也不是反对称的关系，也存在既是对称也是反对称的关系。

（2）关系$R$ 是对称的当且仅当关系图中任何一对结点之间，要么存在方向相反的两条边，要么无任何边；关系$R$ 是反对称的当且仅当关系图中任何一对结点之间至多有一条边。

（3）关系$R$ 是对称的当且仅当$R$的关系矩阵为对称矩阵；关系$R$ 是反对称的当且仅当$R$ 的关系矩阵为反对称矩阵，即对称的两个元素中最多有一个等于1。  

### 5.3.3 关系的传递性  

日常工作和生活中的很多关系都具有某种传播或传递性质。将这些不同具体关系所具有传播性质或传递性质进行抽象，得到如下关于关系传递性质的概念：  

【定义5.21】设$R$ 是集合$A$ 上的关系，对于任意$x,y,z\in A$，若从$\langle x,y\rangle\in R$且$\langle y,z\rangle\in R$这两个条件中推出$\langle x,z\rangle\in R$，则称关系$R$ 是传递关系，或称关系$R$具有传递性。即有： $(\forall x)(\forall y)(\forall z)(x\in A\land y\in A\land z\in A\land\langle x,y\rangle\in R\land\langle y,z\rangle\in R\to\langle x,z\rangle\in R)\Leftrightarrow R$为传递关系$\quad\text{(5-14) }$



### 5.3.4 关系性质的判定  

前面学习了关系的五个基本性质，在关系图和关系矩阵上都能够找到表征这些性质的相关图特征和矩阵特征。因此，对于一个任意给定的二元关系，可以使用关系图或关系矩阵的相关特征判定该关系是否具备关系的哪些基本性质。从本质上看，关系是以序偶为元素的集合。下面介绍和讨论如何从集合的角度判定关系的基本性质。  

【定理5.10】设$R$ 是集合$A$ 上的二元关系，则有：  

（1）$R$ 是自反的$\iff I_{A}\subseteq R$；  （2）$R$ 是反自反的$\iff R\cap I_{A}=\emptyset$； 

（3）$R$ 是对称的$\Leftrightarrow R=R^{-1}$； （4）$R$ 是反对称的$\iff R\cap R^{-1}\subseteq I_{A}$

（5）$R$ 是传递的$\Longleftrightarrow R\circ R\subseteq R$。  



【定理5.11】设$R$、$S$是定义在$A$ 上的二元关系，则：  

（1）若$R$、$S$是自反的，则$R^{-1}$，$R\cup S$，$R\cap S$，$R\circ S$也是自反的；

（2）若$R$、$S$是反自反的，则$R^{-1}$，$R\cup S$，$R\cap S$也是反自反的； 

（3）若$R$、$S$是对称的，则$R^{-1}$，$R\cup S$，$R\cap S$也是对称的； 

（4）若$R$、$S$是反对称的，则$R^{-1}$，$R\cap S$也是反对称的； 

（5）若$R$、$S$是传递的，则$R^{-1}$，$R\cap S$也是传递的。  



## § 5.4 关系的性质闭包  

自反性、对称性和传递性是关系的重要性质，在对很多关系问题的求解过程中都需要用到这些性质。然而，并不是所有二元关系都具备这些性质。在关系模型求解时必须用到但现有关系不具备这些性质的时候，通常需要做一些变通，采用适当方法对现有关系进行尽可能小的调整或改变，使其具有所需的性质。给关系加上适当的性质闭包就是一种常用的变通方法，在很多场合都有着成功的应用。本节着重介绍这种加闭包的方法，具体包括关系闭包的基本概念、构造方法和基本性质。  

### 5.4.1  关系闭包的概念  

首先，我们考察关系的自反闭包。假设$R$ 是集合$A$ 上的二元关系，如果$R$ 不满足自反性，就说明集合$A$ 中存在某个元素$a.$,使得$\langle a,a\rangle\not\in R$，此时可以将关系R 进行调整或修改，避免这种情况的发生。具体地说，就是将序偶$\langle a,a\rangle$纳入到关系$R$ 由此产生一个新的关系$R^{\prime}$。一般地，如果对于$A$ 中的每个元素${x}$，都将$\langle x,x\rangle$纳入到关系$R$，由此产生新的关系$R^{\prime}$必然满足自反性。事实上，关系$R^{\prime}$是对关系$R$ 的一种扩充，使得扩充后的关系能够满足自反性。若能证明这种扩充是满足扩充目的最小扩充，则$R^{\prime}$就是关系$R$ 的自反闭包。  

可同理考察对称闭包。假设$R$ 是集合$A$ 上的二元关系，如果$R$ 不满足对称性，就说明集合$A$ 中存在两个元素$a$和$b$使得$\langle a,b\rangle\in R$，但$\langle b,a\rangle\not\in R$。此时，只需将$\langle b,a\rangle$纳入$R$ 中就可避免这种情况发生。因此，可以对$R$ 进行适当扩充构成其对称闭包。  

可类似考虑传递闭包的基本思想，不再赘述。下面给出这三个闭包的具体定义：  

【定义5.22】设$R$ 是集合$A$ 上的关系，若存在$A$ 上的另一个关系$R^{\prime}$，满足：  

（1）$R^{\prime}$是自反的（对称的、或传递的）  

（2）对$A$ 上任何自反（对称的、或传递）关系$R^{\prime\prime}$，如果$R\subseteq R^{\prime\prime}$，那么$R^{\prime}\subseteq R^{\prime\prime}$，则称${R^{\prime}}$为$R$的自反闭包（对称闭包或传递闭包），记为$r(R)(s(R)$或$t(R))$。  

下面定理给出了自反闭包和传递闭包的构造方法：  

【定理5.12】设$R$ 是非空集合$A$ 上的关系，则有：

 $r(R)=R\cup R^{0};\,\,\,s(R)=R\cup R^{-1}$  

 下面定理给出了使用关系矩阵构造自反闭包和对称闭包的具体方法：  

【定理5.19】设$R$ 是非空集合$A$ 上的关系，$R$、$r(R)$、$s(R)$的关系矩阵分别是$M$、$M_{r}$、$M_{s}$，则有：$M_{r}=M\vee M^{0}$；$\begin{array}{r l}{M_{s}=}&{{}M\vee M^{T}}\end{array}$。其中$M^{0}$为单位矩阵，$M^{T}$为$M$的转置矩阵。  

利用关系图求关系$R$ 闭包的方法：  

（1）检查$R$ 的关系图，在没有自环的结点处加上自环，可得$r(R)$的关系图；  

（2）检查$R$ 的关系图，将每条单向边全部改成双向边，可得$s(R)$的关系图；  

（3）检查$R$ 的关系图，从每个结点出发，找到其终点，如果该结点到其终点没有边相连，就加上此边，由此可得$t(R)$的关系图。  

### 5.4.2 传递闭包的构造  

自反闭包和对称闭包的构造比较简单，一般通过枚举的方法就可以得到解决。然而，传递闭包的构造比自反闭包和对称闭包要困难一些，需要一些技巧。因此，本小节对传递闭包概念做进一步深入理解并由此给出传递闭包构造方法和技巧。  

假设𝐴是任一给定的有限非空集合，$R$ 是$A$ 上的一个二元关系，$t(R)$是$R$ 的传递闭包，显然有${\boldsymbol{R}}\subseteq\ t({\boldsymbol{R}})$。现对于任意$\langle x,z\rangle\in R^{2}$或$\langle x,z\rangle\in R\circ R$，由$R\circ R$的定义知必存在$A$ 中某个元素$y$，使得$\langle x,y\rangle\in R$且$\langle y,z\rangle\in R$，那么根据关系$t(R)$的传递性，必有$\langle x,z\rangle\in t(R)$。故有：$R^{2}\subseteq\ t(R)$，即$R^{2}$也是$t(R)$的一个子集合。  

类似地，对于任意$\langle x,z\rangle\in R^{3}$或$\langle x,z\rangle\in R^{2}\circ R$，则必存在$A$ 中某元素$y$，使得$\langle x,y\rangle\in R^{2}$且$\langle y,z\rangle\in R$，从而有$\langle x,z\rangle\in t(R)$，故有$R^{3}\subseteq\ t(R)$。以此类推，可知，对于任意自然数$k$，必有$R^{k}\subseteq\ t(R)$。故有：  
$$
R\ \cup R^{2}\cup R^{3}\cup\cdots\cup R^{k}\cup\cdots\subseteq\ t(R)\quad\text{(5-15)}
$$
根据传递闭包$t(R)$的定义，$t(R)$是包含$ R$的传递性关系中最小的集合，要证明：  
$$
t(R)\ \,\subseteq\,R\,\cup R^{2}\cup R^{3}\cup\cdots\cup R^{k}\cup\cdots
$$
只需证明 $R\ \cup R^{2}\cup R^{3}\cup\cdots\cup R^{k}\cup\cdots$ 满足传递性即可。任取两个序偶 $\langle x,y\rangle$ 和 $\langle y,z\rangle$ ，满足：  
$$
\langle x,y\rangle\in R\ \cup R^{2}\cup R^{3}\cup\cdots\cup R^{k}\cup\cdots;\ \ \langle y,z\rangle\in R\ \cup R^{2}\cup R^{3}\cup\cdots\cup R^{k}\cup\cdots
$$
则分别存在自然数$t,s$，使得$\langle x,y\rangle\in R^{t}$且$\langle y,z\rangle\in R^{s}$，则根据关系复合运算的定义，有：$\langle x,z\rangle\in R^{t}\circ R^{s}$，即有：$\langle x,z\rangle\in R^{t+s}$。故有：$\langle x,z\rangle\in\!\!R\,\cup\!R^{2}\cup\!R^{3}\cup\cdots\cup\!R^{k}\cup\cdots_{\circ}$。即有：  
$$
t(R)\ \,\subseteq\,R\,\cup R^{2}\cup R^{3}\cup\cdots\cup R^{k}\cup\cdots\quad\text{(5-16)}
$$
经过以上分析，可得到如果关于传递闭包构造定理：  

【定理5.13】设$R$ 是非空集合$A$ 上的关系，$t(R)$是$R$ 的传递闭包，$M$和$M_{t}$分别为$R$ 和$t(R)$的关系矩阵，则有：  
$$
t(R)=\,R\,\cup R^{2}\cup R^{3}\cup\cdots\quad\text{(5-17)}
$$

$$
M_{t}=M\lor M^{2}\lor M^{3}\lor\cdots\quad\text{(5-18)}
$$


使用矩阵计算则涉及计算量很大的方幂计算。为了更加方便地构造关系的传递闭包，下面介绍一个比较高效传递闭包构造算法，即著名的沃舍尔算法。  

假设$R$ 是非空集合$A$ 上的二元关系，$t(R)$是$R$ 的传递闭包，$G$ 是$R$ 的关系图。从前面分析可知，在传递闭包$t(R)$的关系图中，若从结点$x$到结点$y$有一条边，当且仅当在$R$的关系图$G$ 中存在一条从结点$x$到结点$y$且边数大于或等于1 的链路，即在图$G$ 可以从结点$x$连通到结点$y$。因此，关于$R$的传递闭包$t(R)$实际上就是$R$的关系图$G$ 的连通关系$R^{*}$，即有：  

$R^{*}=\{\langle x,y\rangle|$在图$G$中存在一条从结点结点$x$到结点𝑦有向链路}  

现考虑 $n+1$ 个矩阵序列 $M_{0},M_{1},\cdots,M_{n}$ ，将矩阵 ${M}_{k}$ 的第 $𝑖 $行第$ 𝑗 $列的元素记为 $M_{k}[i,j]$ 。对 于$k=0,1,\cdots n$，$M_{k}[i,j]=1$当且仅当在$R$的关系图$G$ 中存在一条结点$x_{i}$到结点$x_{j}$的一条链路，并且这条链路除两个端点之外的中间结点只能经过集合$\{x_{1},x_{2},\cdots,x_{k}\}$中的结点。显然，$M_{0}$就是$R$ 的关系矩阵，而$M_{n}$就是$R$ 的传递闭包$t(R)$的关系矩阵。沃舍尔算法的核心思想就是采用递推的方法从$M_{0}$逐步计算出$M_{n}$，据此给出$t(R)$的高效构造算法。  

可由下列公式从$M_{k}$计算出$M_{k+1}$  
$$
M_{k+1}[i,j]=M_{k}[i,j]\vee M_{k}[i,k+1]\wedge M_{k}[k+1,j]\quad\text{(5-19)}
$$
具体地说，对于$k=0,1,2,\cdots,n-1$，从$M_{k}$构造$M_{k+1}$的具体过程如下：  

（1）$M_{k}[i,j]=s_{i j},\,\,\,M_{k+1}[i,j]=t_{i j}$ 

（2）将$M_{k}$中的所有值为1 元素复制到$M_{k+1}$中相应位置，即若$s_{i j}=1$，则$t_{i j}=1$  ;

（3）对于所有$i,j=1,2,\cdots,n$，若$t_{i j}=0$，则当$s_{i k+1}=s_{k+1j}=1$时，令$t_{i j}=1$ 。 

从上述例题可以看出，矩阵法和沃舍尔算法得到的结果完全相同。不难看出，沃舍尔算法的计算复杂度为$0(n^{3})$，显然比矩阵法的计算效率高很多。  

### 5.4.3  关系闭包的性质  

下面讨论关系闭包的一些基本性质：  

【定理5.14】若$R$ 是$A$ 上二元关系，则有：  

（1）$R$ 是自反的，当且仅当$r(R)=R$

（2）$R$ 是对称的，当且仅当$s(R)=R$；

（3）$R$ 是传递的，当且仅当$t(R)=R$。  

【定理5.15】若$R$ 是$A$ 上二元关系，则有：  

（1）$R$ 是自反的，则$s(R)$和$t(R)$也是自反的；

（2）$R$ 是对称的，则$r(R)$和$t(R)$也是对称的；

（3）$R$ 是传递的，则$r(R)$也是传递的。  

下面定理给出了关系的闭包与集合运算之间的关系：  

【定理5.16】设$A$ 是一个非空有限集合，$R$和$𝑆$均为$A$ 上二元关系，则有：  

(1）若 $R\subseteq S$ ，则有： $r(R)\subseteq r(S);\,\,\,s(R)\subseteq s(S);\,\,\,t(R)\subseteq t(S)$ 。   (2)$r(R\cup S)=r(R)\cup r(S);\quad s(R\cup S)=s(R)\cup s(S);\quad t(R)\cup t(S)\subseteq t(R\cup S)\,。$  



对于非空集合$A$ 上的二元关系$𝑅$，由于其自反闭包$r(R)$、对称闭包$s(R)$和传递闭包$t(R)$仍然是$A$ 上的二元关系，因此可以对这些闭包进一步做不同的闭包，例如在自反闭包$r(R)$的基础上再做对称闭包或传递闭包、在对称闭包$s(R)$的基础上再做自反包或传递闭包、在传递闭包$t(R)$的基础上再做自反包或对称闭包等，由此可以得到多重闭包。下面定理给出了关于这些多重闭包的基本性质：  

【定理5.17】设$A$ 是一个含有${n}$个元素的非空集合，$R$ 是$A$ 上二元关系，则有： $(1)r s(R)=s r(R);~~~(2)r t(R)=t r(R);~~(3)~s t(R)\subseteq t s(R)$ 



## § 5.5 关系模型的应用  

在计算机中专门用于存储与管理数据的系统称为数据库管理系统，而存储与管理数据的基本特征的抽象表示称为数据模型。一般来讲，数据模型都可以用数学形式表示，常用的有图的形式、关系形式及逻辑形式等。其中基于关系代数与关系演算的关系数据模型是计算机科学的重大理论成果，它对数据库的发展起着关键性与基础性的作用。关系代数模型运用了关系及关系运算，实现数据库中数据结构的描述，数据操作、操作优化及规范化的表示；关系演算模型运用了谓词逻辑理论，以实现数据库中数据结构的表示、数据操作及查询优化，并通过谓词推理获取查询结果。由关系代数而建立起了关系数据库，由关系演算而建立起了知识库与演绎数据库，开创了数据库学科研究的重大方向。几十年来，基于关系数据模型的关系型数据库系统一直是主流数据库系统。  

### 5.5.1 关系代数模型  

关系代数模型由IBM 公司E.F.Codd 于1970 年提出，并最终于1976 年研制出具有实用价值的关系模型数据库系统system R。此项成果首次实现了以理论带动系统的重要突破，从此以后关系模型数据库系统是数据库中最具优势的数据模型。  

关系数据模型是一种以二维表的方式表示数据的多元关系结构以及相关的关系操作。二维表又称表，它由表框架及表元组两部分组成。表框架由表名及若干个命名属性列构成。表中每行数据称为元组。元组由若干个分量组成，其每个分量对应表框架中的一个属性值，一个表框架可以储存若干个元组，它们构成了一个完整的二维表。  

建立在二维表上的数据操作，包括查询、删除、插入及修改等操作。查询操作可分解成三个定位与一个操作，即表的列指定、表的行选择、两张表的合并、选择操作。删除操作的基本操作单位是元组，其功能是将指定表内的指定元组删除。它也分为定位与操作两部分，其中定位部分即是行选择，定位后即执行删除操作。插入操作的功能是在指定表中插入一至多个元组。入操作无须定位，仅对指定表执行（插入）操作即可。改操作是在表中修改指定元组的数据.它可以分解为两个操作，即先进行删除操作再进行插入操作。  

由以上分析可知，关系数据模型中的基本操作共有六种，三种定位操作与三种执行操作，即：表的列指定、表的行选择、两表的合并、选择操作、删除操作、插入操作。二维表上的六种基本操作可对应关系的五种运算，因为选择操作不涉及逻辑运算，可在关系代数中忽略。其中一些操作可以关系的集合运算与复合运算实现。具体地说：二维表的数据操作插入可用关系集合并运算实现、数据删除操作可用关系集合差运算实现、两表合并可用关系集合的笛卡尔积运算实现、多表查询运算可用关系的复合运算实现。    

### 5.5.2 关系演算模型  

关系演算作为一种数学模型也产生于二十世纪70 年代，该模型以关系理论为基础并在关系理论中引入谓词推理机制，将推理与查询融为一体，从而实现关系数据库与知识库的一体化，主要用于对操作的优化，有效提高查询效率。目前，在大数据环境下，希望能够从海量数据中总结或发现一些有价值的规律或知识，这就是一直比较热门的大数据知识发现或者数据挖掘的研究课题。关系演算作为一个具备谓词推理机制的数据模型，能够的完成知识表示与推理，实现关系数据库系统与知识库系统有效整合。因此，关系演算无论在理论还是在应用方面都具有非常重要的价值。  

对于任意给定的一个二维表，可用一个多元谓词对其进行表示。其中谓词中个体变元即是表的属性，而表中的元组就是使该谓词为真的赋值，不在表中元组则是使该谓词为假的赋值  

可用谓词公司演算实现关系表的数据操作。具体地说，可用谓词公式的析取运算实现关系表中数据的插入操作、谓词公式的合取运算实现关系表中数据的删除操作、可用谓词公式的推理实现查询操作的优化，等等。关系演算在数据库及知识库系统中具体应用可参阅数据库专业教材，不再赘述。  
