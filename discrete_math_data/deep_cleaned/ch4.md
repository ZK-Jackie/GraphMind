# 第四章  谓词演算与推理  

弗雷格通过在命题逻辑中引入个体词、谓词、量词与约束变元等概念，在保持命题逻辑知识体系架构基本不变的情况下，将命题层次上的逻辑演算与推理，推进到更为深入复杂的概念层次，使得数理逻辑能够在概念层次上进行更为精细复杂的推演.如果说布尔是初步实现了莱布尼茨梦想，那么弗雷格则是基本上实现了莱布尼茨梦想。  

谓词逻辑能够有效实现对概念的数学表达和逻辑推演，提供了比命题逻辑更加丰富、更加深刻的信息表达与符号计算方法，在数据库与网络通信协议的模型设计、词法分析与代码编译、知识发现与数据挖掘、专家系统的知识表示与推理、自然语言理解与人机交互等多个领域都有着广泛应用，是计算机研发人员必须掌握的基础知识。本章比较系统地介绍谓词演算与推理的基本知识，包括谓词和量词的基本概念与性质、谓词公式与等值演算、谓词公式的范式、谓词逻辑的推理理论与方法等。  

## § 4.1 个体词、谓词与量词  

谓词逻辑的核心思想是将作为命题的陈述句分解成个体词与谓词这两个更为基本的要素。个体词表示各种具体或抽象的对象，相当于陈述句中的主语或宾语部分；谓词则表示对象的属性或对象之间的联系，相当于陈述句中的谓语部分。不同个体词会使命题产生不同含义以至于形成不同真值，同一个体词使用场合的不同也可能使命题的真值产生变化。为此，谓词逻辑引入量词概念，并通过将其与谓词相结合实现对个体词含义的准确限定。个体词、谓词和量词是谓词逻辑中最核心、最基本的概念，本节通过讨论这三个概念及其性质比较系统地介绍谓词逻辑中最基本的知识，包括谓词逻辑的由来、命题函数与谓词的概念、量词与特性谓词的概念、谓词逻辑的符号化等。  

### 4.1.1  逻辑与谓词逻辑  

我们知道，命题是一个具有确切真假含义的陈述句，一般由主语和谓语这两个基本部分组成。用命题逻辑表示这个三段论推理，令$P$，$\mathcal{Q}$，$R$ 分别表示上述三个命题，则有 $P\Lambda Q\Rightarrow R$ 。根据命题逻辑永真蕴含的性质，可知 $P\Lambda Q\to R$ 为永真公式，这显然是不可能的。  

产生这种错误结果的根本原因在于这三个命题之间的逻辑关系并不是体现在命题与命题之间的层次，而是体现在命题内部的概念层次上。命题逻辑以原子命题为基本单元来研究命题的性质和逻辑推演，对于这种命题内部成分之间的联系自然是无能为力的。因此，命题逻辑无法解决苏格拉底三段论推理问题。  

仅在命题层次上研究逻辑推演问题是不够的，必须对原子命题做进一步分解，研究命题在更深层结构上的性质和关系。事实上，这三个部分分别对应于谓词逻辑中三个最基本的概念，即量词、个体词和谓词，整个谓词逻辑的理论体系基本上由这三个概念衍生而成。  

### 4.1.2  命题函数与谓词  

谓词逻辑通过对原子命题中的主语和宾语指代对象进行抽象和泛化，形成一种含有变量的语句来表示一类命题，并随着变量的不同指派得到各自相应的具体命题，因而可将这种有变量的语句看成是一种命题函数。在这个抽象过程中，原子命题中的谓语部分则不做任何抽象或改变而直接继承到命题函数之中，并称其为谓词。在命题函数中，谓词刻画了变量的性质和变量之间的联系，反映了命题函数的本质内涵并构成命题函数的主体内容。事实上，也可以进一步对命题中的谓语部分进行抽象形成谓词变量，但是这种更高层次的抽象已经超出了我们的讨论范畴，不再赘述。  

#### 一、含变量的语句  

对于含有变量的语句，当句中变量没有给定具体取值时，语句的真值是不确定的因而不是命题。只有当这些语句中所有变量均获得具体赋值时，它们才变成具有确定真值的命题。因此，可将这些含有变量的语句看成是以这些变量为自变量的命题函数。下面给出命题函数及其相关概念定义与性质。  

#### 二、个体变量与命题函数  

对于任一给定的原子命题，其主语或宾语是一种可以独立存在的确定对象，我们称之为个体常量，将个体常量抽象成含义不确定的变量后，则称之为个体变量。相关定义如下：  

【定义4.1】客观世界中可以独立存在的具体或抽象对象称为个体，表示个体的词称为个体词。若个体词以常量的方式表示特定个体，则称之为个体常量；若个体词以变量的方式泛指不确定的个体，则称之为个体变量。  

对于个体常量，通常用带下标或不带下标的英文字母$a$，$b$，$c$，…表示。 

对于个体变量，通常用带下标或不带下标的英文字母$x$，y，$z$，…表示。

个体变量的取值应有一个明确范围，故有如下个体域的概念：  

【定义4.2】个体变量的取值范围称为个体域或论域。宇宙间所有的个体域聚集在一起构成的个体域，称为全总个体域。  

个体变量的个体域可根据问题的实际状况或需要来确定。显然，个体变量的个体域的不同，其相应含变量语句的含义也会有所不同。  

现在个体变量与个体域概念基础上，给出命题函数的定义：  

【定义4.3】设$x_{1},x_{2},\cdots x_{n}$为$n$个个体变量，其个体域均为非空集合$D$，则定义在$D^{n}$上取值于$\{0,1\}$的$n$元函数称为$^n$元简单命题函数，记为$P(x_{1},x_{2},\cdots x_{n})$。  

如同原子命题可以通过联结词进行逻辑演算得到复合命题一样，简单命题函数也可通过联结词的逻辑演算，得到一种更为复杂的表达式，即复合命题函数。其具体定义如下：  

【定义4.4】简单命题函数通过“$\neg$”、“$\land$”、“$\lor$”、“$\rightarrow$”、“$\leftrightarrow$”等联结词进行逻辑演算得到的逻辑表达式，称为复合命题函数。  



#### 三、谓词与谓词填式  

从结构上看，简单命题函数主要通过将原子命题中的个体常量泛化为个体变量的方式实现对命题结构的分解和对命题含义的抽象。在这个分解与抽象过程中，原子命题中表示个体性质与联系的谓语部分则不做任何抽象和改变而直接继承下来成为命题函数的函数名，并称之为谓词。谓词是简单命题函数中具有实质性含义的部分，刻画了命题函数中个体变量的性质与联系，构成了简单命题函数的主体。从本质上看，含有变元的简单命题函数其实就是含有变元的谓词。因此，通常将$_{\cdot n}$元简单命题函数称为$^n$元谓词。具体定义如下：  

【定义4.5】对于$\cdot n$元简单命题函数$P(x_{1},x_{2},\cdots x_{n})$，将其中的函数名$P$ 称为谓词，将$n$元简单命题函数$P(x_{1},x_{2},\cdots x_{n})$称为$n$元谓词。  

单纯的个体词或单纯的谓词都无法完成一个完整的逻辑含义，只有将它们结合起来才能构成完整独立的逻辑断言。因此，除非特别说明，通常情况下我们所说的谓词指的就是含有个体变元的谓词，即$n$元谓词。  

$n$元谓词主要用来描述个体的性质或者个体之间的联系。当$n=$1时，谓词描述的是个体的性质；当$n>1$时，谓词描述的是个体之间的联系。  

$n$元谓词$P(x_{1},x_{2},\cdots x_{n})$是表示含有$n$个个体变量的语句。变量对个体指定的不确定性使得语句无法确定具体的真值，因而不是命题。当这些变量$x_{1},x_{2},\cdots x_{n}$均得到具体赋值或通过其它方式受到约束而获得明确具体的含义时，$P(x_{1},x_{2},\cdots x_{n})$就表示一个具体命题。  

给$n$元谓词的个体变量赋值是一种最简单的约束方式，由此得到谓词填式的概念：  

【定义4.6】对于$\cdot n$元谓词$P(x_{1},x_{2},\cdots x_{n})$，若将其中每个个体变量$\cdot x_{1},x_{2},\cdots x_{n}$分别指定具体的个体，由此得到的命题$P(a_{1},a,\cdots a_{n})$，称为谓词填式，也称为命题的谓词式。  

谓词填式具有谓词的形式结构但不再含有个体变量，可以看成是零元谓词，是具体命题的谓词表示形式。命题其实就是一种特殊的零元谓词，谓词逻辑是命题逻辑的一种自然推广。  



### 4.1.3  量词与特性谓词  

不同的谓词，其变量的个体域会有所不同，这些具有不同个体域的谓词在一起进行逻辑演算时往往会导致演算结果在个体域界定上的混乱。通过引入量词和特性谓词，可以较好地解决这个问题。事实上，量词实现了对谓词中个体变量含义的约束，消除了谓词在语义上的抽象性和不确定性，可使谓词成为具有确定真值的命题。  

#### 一、量词的概念  

如前所述，若给谓词中每个变量分别指定确定个体，则谓词就变成谓词填式并由此成为一个具体命题。事实上，除了直接给变量赋值之外，还可通过其它方法实现对变量的限制或者约束，使得谓词具有明确具体的含义而变成命题，即具有命题谓词式的具体命题。  

能够对谓词中变量进行约束或限定的词，我们称之为量词。其具体定义如下：  

【定义4.7】对于给定的谓词$P(x)$，若个体变量$x$在其个体域内的所有赋值都使得$P(x)$的取值为真，则称$P(x)$得到全称量化，记为：$\forall x P(x)$。其中$\forall$称为全称量词，$\forall$后面的$x$ 称为其作用变量，$\forall x$的含义为“对于变量$x$ 个体域中的每个个体…”。  



【定义4.8】对于给定的谓词$P(x)$，若个体变量$x$在其个体域内至少存在一个赋值都使得$P(x)$的谓词填式取值为真，则称$P(x)$得到存在量化，记为：$\exists x P(x)$。其中∃称为全称量词，∃后面的$x$ 称为其作用变量，$\exists x$的含义为“变量$x$ 个体域中至少存在一个个体…”。  



#### 二、量词的展开与否定  

假设$P(x)$是关于个体变量$x$的一元谓词，$D$ 是$x$ 的个体域，现讨论全称量词的性质：

 由全称量词定义可知，$\forall x P(x)$表示这样的一个命题：“对于$D$ 中任意一个个体$x$，$P(x)$均为真”。因此，$\forall x P(x)$作为一个具体命题，其真值应按如下方式确定：  

$\forall x P(x)$取值为真，当且仅当对于$D$ 中任意一个个体$x$，都使得$P(x)$的取值均为真；  

$\forall x P(x)$取值为假，当且仅当$D$ 中至少存在一个个体$x_{0}$，使得$P(x_{0})$的取值为假。

即有：  
$$
\forall x P(x)=\left\{\!\!\begin{array}{l l}{1,\,\,\forall x\in D,\,\,\,\,\,\,\,\,\,P(x)=1}\\ {0,\,\,\exists x_{0}\in D,\,\,\,P(x_{0})=0}\end{array}\right.\tag{4-1}
$$

下面讨论存在量词的性质，由存在量词定义可知，$\exists x P(x)$表示这样的一个命题：$^{\cdot}\!D$中至少一个个体$x_{0}$，使得$P(x_{0})$的取值为真”。因此，$\exists x P(x)$作为一个具体命题，其真值应按如下方式确定：  

$\exists x P(x)$取值为真，当且仅当$D$ 中至少存在一个个体$x_{0}$，使得$P(x_{0})$的取值为真；  

$\exists x P(x)$取值为假，当且仅当对于$D$ 中任意一个个体$x$，都使得 $P(x)$的取值为假。

即有：  
$$
\exists x P(x)=\left\{\!\!\begin{array}{l l}{1,\ \exists x_{0}\in D,\quad\quad P(x_{0})=1}\\ {0,\ \forall x\in D,\quad\quad\quad P(x)=0}\end{array}\!\!\right.\tag{4-2}
$$

当$D$ 为有限集$\{x_{0},x_{1},\cdots,x_{n}\}$时$\forall x P(x)$和$\exists x P(x)$的可分别用如下与之等价的命题逻辑运算表示：  

$$
\forall x P(x)\Leftrightarrow P(x_{0})\land P(x_{1})\land\cdots\land P(x_{n})\tag{4-3}
$$

$$
\exists x P(x)\Leftrightarrow P(x_{0})\lor P(x_{1})\lor\cdots\lor P(x_{n})\tag{4-4}
$$

上式为量词的展开式，可根据实际问题需使用上式添加或消除量词。  

由以上讨论分析可知，对于一个$_{n}$元谓词，如果其中每个变量都分别受到量词约束，那么它就不再是一个命题函数，而是蜕化为一个具体的命题。但是，这些由$n$元谓词蜕化而来命题与命题逻辑中的命题还是有所不同。因为这些命题里含有变量，但这些变量与命题函数中的变量也有所不同。我们将在后续相关部分对此做进一步分析讨论。  

有时需要对量词含义进行否定。

由此可见，全称量词否定就变成存在量词，存在量词否定就变成全称量词。这种量词否定的转换规则称为量词德摩根律。具体地说，对于含有量词的谓词式$\forall x P(x)$和$\exists x Q(x)$，其否定式的量词德摩根转换规则如下：  

$$
\lnot\forall x P(x)\Leftrightarrow\exists x\lnot P(x);\;\;\lnot\exists x Q(x)\Leftrightarrow\forall x\lnot Q(x)
$$

 

当个体变量$x$ 的个体域$D$ 为有限集$\{x_{0},x_{1},\cdots,x_{n}$}时，显然有：  

$$
\lnot\forall x P(x)\Leftrightarrow\lnot P(x_{0})\lor\lnot P(x_{1})\lor\cdots\lor\lnot P(x_{n})
$$

$$
\lnot\exists x Q(x)\Leftrightarrow\lnot Q(x_{0})\land\lnot Q(x_{1})\land\cdots\land\lnot Q(x_{n})
$$



#### 三、特性谓词及其应用  

我们知道，谓词中含有个体变量，不同谓词的个体变量和个体域经常会有所不同。此时会给谓词逻辑运算结果的个体域确定带来混乱和困难。

如果有多个类似的命题谓词式进行复杂的逻辑运算，那么对运算结果个体域的确定显然是一件非常麻烦的事情。  

另一方面，对于一个命题的谓词表达式，其个体域的确定又是非常重要的。因为个体域的差异往往会导致其真值取值的不同。

因此，命题的谓词表达式不能采用对每个表达式分别指定个体域的方式。事实上，可以让所有的谓词和命题函数共用全总个体域作为一种统一的个体域，不同的个体变量可以通过设立与其含义相对应的特性谓词来确定其个体域。  



特性谓词的使用与量词类型有着密切关系，具体方法如下： 

（1）对于全称量词$\forall x$，刻画其作用变量$x$ 个体域的特性谓词作为蕴含式前件加入；

（2）对于存在量词$\exists x$，刻画其作用变量$x$ 个体域的特性谓词作为合取项加入。

   

## § 4.2 谓词公式与等值演算  

谓词逻辑的问题求解思路与命题逻辑类似，首先通过符号化将现实问题抽象成谓词符号形式，然后使用谓词逻辑的符号演算机制实现对问题的求解。因此，谓词符号的表达系统和演算机制是谓词逻辑理论的核心内容。本节着重学习这些内容，包括谓词公式的概念、自由变元与约束变元、谓词公式的解释与分类、谓词公式的等值关系与演算等。  

### 4.2.1 谓词公式的概念  

类似于命题逻辑，谓词逻辑采用谓词公式的方式实现对谓词符号的表达。但谓词公式的定义比命题公式更加复杂，因为谓词公式的表达要深入到概念层次，需要用到更多种类的特殊符号来表达命题在概念层次上的各种组件。具体地说，除了前述两种量词符号之外，还有四种特殊符号，即：表示个体的个体常量符号、个体变量符号、个体函数符号，以及表示谓词的谓词符号。这四种符号的表达方式如下：  

（1）个体常量符号：用带或不带下标的小写英文字母$a,b,c,\cdots$表示个体常量。

（2）个体变量符号：用带或不带下标的小写英文字母$x,y,z,$…表示个体变量。  

（3）个体函数符号：用带或不带下标的小写英文字母$f,\,g,\,h,\cdots$表示个体函数。所谓个体函数，就是个体与个体之间的映射关系。  

（4）谓词符号：用带或不带下标的大写英文字母$P,Q,R,\cdots$表示谓词。  

个体函数表示谓词逻辑中个体与个体之间的映射关系。

个体函数的使用为谓词逻辑中个体之间映射关系的表达带来了很大的方便，大大提升了谓词逻辑符号系统的表达能力。基于个体函数，可按如下方式定义一个称之为个体项的概念来专门表达谓词逻辑中的个体之间复杂的映射关系：  

【定义4.9】谓词逻辑中的个体项，被递归地定义为：  

（1）个体常量符号是个体项；  

（2）个体变量符号是个体项；  

（3）若$f(x_{1}\,,\ x_{2}\,,\ \ \dots\,,\ x_{n})$是$.n$元函数，$t_{1}$，$t_{2}$，… ，$t_{n}$是个体项，则$f(t_{1}\,,\,\,\,t_{2}\,,\,\,\,\dots\,,\,\,\,t_{n})$是个体项；  

（4）所有个体项都是有限次使用(1)，(2)，(3)生成的符号串。

 由定义可知，个体项具有非常强大的表达能力，能有效地表达个体以及个体之间的复杂的映射关系，谓词中的个体常量、个体变量和个体函数都可以统一用个体项的概念进行表达。例如复合函数$f(g(x,y),\ h(a,g(x,y),z))$都是个体项；有了个体项的概念，就可在$n$元谓词的基础上得到如下原子谓词公式的定义：  

【定义4.10】设$P(x_{1}\,,\ x_{2}\,,\ \ \dots\,,\ x_{n})$是$n$元谓词公式，$t_{1}\,,\,\,\,t_{2}\,,\,\,\,\dots\,,\,\,\,t_{n}$是个体项，则称$P(t_{1},\ t_{2},\ \dots,\ t_{n})$为谓词演算的原子公式，简称为原子谓词公式。  

可原子谓词公式的基础上进一步得到如下谓词合式公式的定义：

【定义4.11】谓词合式公式亦称为谓词公式，它按下列递归方式定义：  

（1）原子谓词公式是谓词公式； 

（2）若$G$，$H$是谓词公式，则$(\neg G)$$),\;(G\!\!\lor \!\!H),\;(G\!\!\ \ \wedge  H),\;(G\!\!\to\!\!H),\;$$(G{\leftrightarrow}H)$是合式公式； 

（3）若$G$ 是谓词公式，$x$是$G$ 中的自由变量，则$\forall x G$，$\exists x G$都是谓词公式； 

（4）所有谓词公式都是有限次使用（1），（2），（3）生成的符号串。

 由上述定义可知，谓词公式是原子谓词公式、联结词、量词、圆括号和逗号按上述规则组成的符号串，且命题公式是谓词公式的一个特例。为方便起见，谓词公式中的括号可以像命题公式那样省略最外层括号。  



### 4.2.2 变量的自由与约束  

如前所述，量词实现了对谓词中个体变量含义的约束，消除了谓词在语义上的抽象性和不确定性，对于一个$\cdot n$元谓词，如果其中每个变量都分别受到量词的约束，那么它就不再是一个命题函数而蜕化一个具体命题。因此，对于任意一个$\cdot n$元谓词，可将其中所以命题变量分为两种具体不同性质的基本类型：一种是受到量词约束的命题变量，其含义是明确具体的，不再具有自由诠释的性质；另外一种是没有受到量词约束的命题变量，是传统意义上的命题变量，其含义是泛指某个不确定的个体对象，具有自由诠释的性质。这两种变量在谓词公式及谓词演算中扮演着完全不同的角色，在具体的表示形式上必须有明确的区分。本节主要介绍具体的区分方法，首先给出量词辖域的相关概念。  

【定义4.12】假设$G(x)$是任意一个含有命题变量$x$的谓词，在公式$(\forall x)G(x)$或$(\exists x)G(x)$中，$(\forall x)$或$(\exists x)$的作用变量$x$ 在$G(x)$中存在的范围称为量词$(\forall x)$或$(\exists x)$的辖域。如果辖域不是原子谓词公式，其两侧必须有括号，否则不应有括号。  



一般来说，一个量词的辖域是某个谓词公式的子公式。因此，确定一个量词的辖域就是要找出位于该量词之后与之相邻接的子公式，具体方法如下：  

（1）若量词后面有括弧，则括弧内的子公式就是该量词的辖域； 

（2）若量词后面无括弧，则与该量词邻接的子公式为该量词的辖域。

下面在量词辖域的基础上给出自由变量和约束变量的定义：  

【定义4.13】假设𝐺是任一谓词公式，$x$是𝐺的任意一个命题变量，如果$x$出现在以它为作用变量的量词辖域之内，则称$x$的出现为约束出现，称变量$x$为约束变量；如果$x$不是约束出现，则称其为自由出现，此时称$x$为自由变量。  

从上述定义不难看出，所谓约束变量，就是其含义受到量词约束的命题变量。约束变量的含义是明确具体的，不再具有自由诠释的性质。自由变量则是含义没有受到量词约束的命题变量，是传统意义上的命题变量，可以对其含义进行自由诠释。  



如果谓词公式中所有命题变量都受到量词约束，则称其为封闭公式，具体定义如下：

【定义4.14】若谓词公式$G$ 中不含自由变量，则称该公式为封闭公式或闭式。  

显然，要想使得含有$n$个自由变量的谓词公式变成闭式，需要添加$|n$个量词。  

这很容易引起在概念理解上的歧义或混乱，需要通过一些方法对这种变量进行换名，使得同一个个体变量在同一个谓词公式中要么自由出现，要么约束出现，不能兼而有之，避免个体变量在概念理解上的歧义或混乱。下面介绍具体的个体变量改名方法。  

对于任意一个含有量词的谓词公式，以约束方式出现的个体变量到底用哪一个字母表示其实是无关紧要的。事实上，用其它任意字母表示这个约束变量都不会改变谓词公式的含义。由此可得如下约束变量的换名规则：  

（1）将量词中出现的变量以及该量词辖域中此变量的所有约束出现都替换为新的变量；

（2）新变量名一定要有别于辖域中的所有其它变量名。  

为使一个个体变量在同一个谓词公式中只以一种方式出现，还可以使用一定的规则实现对自由变量换名。该规则称为自由变量的代入规则，具体内容如下：  

（1）将公式中出现该自由变量的每一处都用新的变量替换；

（2）新变量不允许在原公式中以任何约束形式出现。  



### 4.2.3 谓词公式的解释与分类  

我们知道，对于一个命题公式，确定其真值取值状态是比较简单的，只需对命题公式中各个变量逐个指派真值便可得到命题公式的真值，而且在命题变量不是太多的情况下还可通过对命题变量真值指派的各种状态进行枚举的方式列出命题公式的真值表。然而，要确定一个谓词公式的真值取值状态，通常就没有这么简单了。  

 

一般来说，对于任意给定的谓词公式，其含义与真值取值不仅依赖于个体域，依赖于公式中各个个体变量的取值状况，还依赖于对公式中谓词符号、函数符号、常量符号具体含义的确认，这些所有的依赖信息构成对谓词公式的解释。如果不对谓词公式中常量符号、变量符号、函数符号、谓词符号进行具体的解释，则公式就没有确定的含义和确定的真值取值.下面给出关于谓词公式解释的具体定义：  

【定义4.15】 谓词公式$G$的每一个解释$I$由如下四个部分组成：  

（1）确定非空的个体域集合$D$； 

（2）确定公式$G$ 中的每个常量符号的含义，即指定$D$ 中的某个特定的元素； 

（3）确定公式$G$ 中的每个$n$元函数的具体形式，即对于公式$G$ 中每个$n$元函数分别指定一个从$D^{n}$ 到$D$ 中的特定函数与之对应； 

（4）确定公式$G$ 中的每个$n$元谓词符号的具体形式，即对于公式$G$ 中每个$n$元谓词符号分别指定一个从$D^{n}$ 到$\{0,1\}$的特定函数与之对应。 

易知，对于任意一个给定的谓词公式，如果该公式是封闭公式，即不含有任何自由个体变量，则该公式在任何解释下均有确定的真值。  



与命题公式一样，有些谓词公式在有些解释下为真，在另外一些解释下为假；而有些谓词公式则在所有解释下均为真；还有一些谓词公式在所有解释下均为假。由此可以得到如下有效公式、矛盾公式和可满足公式的定义：  

【定义4.16】 对于任意一个给定的谓词公式$G$，如果$G$ 在其所有的解释$I$下的真值取值为真，则称$G$ 称为有效公式；如果$G$ 在其所有的解释$I$下的真值取值都为假，则称$G$为矛盾公式；如果$G$ 不是矛盾公式，则称其为可满足公式。  

从上述定义可知三种特殊公式之间具有如下关系：有效公式的否定为矛盾公式；矛盾公式的否定为有效公式；有效公式一定为可满足公式。  

### 4.2.4 谓词公式的等值与蕴含  

在命题逻辑中，命题公式之间的等值关系和永真蕴含关系是两种非常重要的基本关系，使用这两种关系，我们不仅可以对命题公式进行化简和适当的变形，而且还可以进行有效的命题推理。类似于命题逻辑，在谓词逻辑中也需要定义谓词公式之间的等值关系和永真蕴含关系来实现对谓词公式进行化简或适当的变形，更需要这两种关系进行谓词逻辑的推理。为此，本小节着重介绍和讨论谓词公式的等值关系和永真蕴含关系。  

#### 一、谓词公式的等值关系  

谓词公式等值关系的含义与命题公式等值关系很类似，是指两个谓词公式在任意相同的解释下具有完全相同的真值，表达的是两个谓词公式之间的恒等关系。下面借助谓词公式的概念给出谓词公式等值关系的具体定义：  

【定义4.17】 假设$G$ 和$H$ 是任意两个给定的谓词公式，若公式$G\leftrightarrow H$是有效公式，则称公式$G$ 和$H$ 称为等值的，记为$G\Leftrightarrow H$，并称$G\Leftrightarrow H$为等值表达式或等值式。  

由上述定义可知，判断两个谓词公式$G$ 和$H$是否等值，关键在于证明谓词公式$G\leftrightarrow H$为有效公式，这种思路与证明命题公式等值关系的基本思路是一致的。类似于命题公式的等值演算系统，在谓词公式的等值演算系统中，通常也是先证明出一些重要的谓词公式等值式，然后将这些重要谓词等值式作为基本等值式进一步推演出更多的谓词公式等值式，这种推演过程构成了谓词公式等值演算的主要内容。下面不加证明地给出这些重要而基本的谓词公式等值式

第一组  命题公式中永真公式的谓词公式代换实例显然是有效谓词公式。因此，按命题逻辑中24 个基本等值式模式使用谓词公式代换出来的实例必定是谓词公式等值式。

第二组  关于量词的若干等值式：  

（1）消去量词等值式：设个体域$D$ 为有限集$\{x_{0},x_{1},\cdots,x_{n}\ \}$，则有： $\forall x P(x)\Leftrightarrow P(x_{0})\land P(x_{1})\land\cdots\land P(x_{n});\ \ \exists x P(x)\Leftrightarrow P(x_{0})\lor P(x_{1})\lor\cdots\lor P(x_{n})$  

（2）量词否定等值式：对于含有量词的谓词式$\forall x P(x)$和$\exists x Q(x)$，有：$\lnot\forall x P(x)\Leftrightarrow\exists x\lnot P(x);\;\;\lnot\exists x Q(x)\Leftrightarrow\forall x\lnot Q(x)$  

（3）量词辖域的收缩与扩张等值式：  

$$
\forall x(P(x)\lor S)\Leftrightarrow\forall x P(x)\lor S;\;\;\forall x(P(x)\land S)\Leftrightarrow\forall x P(x)\land S;
$$

$$
\exists x(P(x)\lor S)\Leftrightarrow\exists x P(x)\lor S;\ \exists x(P(x)\land S)\Leftrightarrow\exists x P(x)\land S;
$$

$$
\forall x(P(x)\rightarrow S)\Leftrightarrow\exists x P(x)\rightarrow S;\quad\exists x(P(x)\rightarrow S)\Leftrightarrow\forall x P(x)\rightarrow S;
$$

$$
\forall x(S\rightarrow P(x))\Leftrightarrow S\rightarrow\forall x P(x);\ \exists x(S\rightarrow P(x))\Leftrightarrow S\rightarrow\exists x P(x)\\,
$$

(4）量词分配等值式  

$$
\forall x(P(x)\land Q(x))\Leftrightarrow\forall x P(x)\land\forall x Q(x);\ \exists x(P(x)\lor Q(x))\Leftrightarrow\exists x P(x)\lor\exists x Q(x);
$$

上述基本的等值关系式很多可以互相推导。特别是当个体域为有限集时，很容易理解上述等值关系的合理性。  



#### 二、谓词公式的蕴含关系  

如同多项式演算不仅要用到恒等式，还经常用到不等式，谓词公式的逻辑演算与推理也是不仅要用到谓词公式之间的等值关系，而且还需要用到谓词公式之间的蕴含关系。谓词公式之间的蕴含关系如同多项式代数系统中多项式之间的小于或等于关系， 具体地说， 所谓两 个谓词公式之间存在蕴含关系，其实就是两个谓词公式在任何解释下，其中一个谓词公式的真值永远不会大于另外一个谓词公式的真值。下面借助有效公式的概念给出具体定义：  

【定义4.18】假设$G$和$H$是任意两个谓词公式，如果谓词公式$G\rightarrow H$是有效公式，则称谓词公式$\pmb{G}$逻辑蕴含谓词公式$\pmb{H}$，亦称$G$ 与$H$之间具有逻辑蕴含关系，通常简称为蕴含关系，记作$G\Rightarrow H$，并称该式为谓词公式的逻辑蕴含式，通常简称为蕴含式。  

由上述定义可知，判断两个谓词公式$G$ 和$H$ 是否具有逻辑蕴含关系，关键在于证明谓词公式$G\rightarrow H$为有效公式，这种思路与证明命题公式永真蕴含关系的基本思路是一致的。类似于命题公式的永真蕴含演算系统，在谓词公式的逻辑蕴含演算系统中，通常也是先证明出一些重要的谓词公式蕴含式，然后将这些重要谓词蕴含式作为基本蕴含式进一步推演出更多的谓词公式蕴含式，这种推演过程构成了谓词公式蕴含演算的主要内容。下面不加证明地给出这些重要而基本的谓词公式蕴含式，读者可自行给出证明。  

由于谓词公式的逻辑蕴含式依据谓词公式的有效公式定义，而命题公式中永真公式的谓词公式代换实例显然是有效谓词公式，因此与前述谓词公式的等值式类似，前述命题逻辑中15 个基本永真蕴含式经过谓词公式代换后，就可以得到相应的谓词公式基本逻辑蕴含式。当然，由前述每组谓词公式基本等值式显然都可以得到两组相应的基本逻辑蕴含式，这里不再一一赘述。这里主要介绍如下与量词有关的逻辑蕴含式。  

【定理4.1】假设$G(x)$和$H(x)$是任意两个谓词公式，则存在如下逻辑蕴含关系： 


$$
\forall x G(x)\lor\forall x H(x)\Rightarrow\forall x(G(x)\lor H(x))\tag{4-7}
$$

$$
\exists x(G(x)\land H(x))\Rightarrow\exists x G(x)\land\exists x H(x)\tag{4-8}
$$



不难看出，上述定理的两个式子仅仅是蕴含式而不是等值式。

#### 三、双量词式的等值与蕴含  

不失一般性，这只讨论两个量词的情况，更多量词的使用方法与此类似。因为对于含两个量词的谓词公式$(\forall x)(\forall y)B(x,y)$，若将其中$(\forall y)B(x,y)$视为$A(x)$，则$(\forall x)(\forall y)B(x,y)$便可视为$(\forall x)A(x)$。依此类推，含$n$个量词的谓词公式可依照含两个量词谓词公式的处理方法进行讨论。两个量词的谓词共有如下8 种排列情况，分别表示不同的含义：  

$(\ 1\ )(\exists x)(\exists y)A(x,y);~(\,2\,)~(\exists y)(\exists x)A(x,y);~(\,3\,)~(\forall x)(\exists y)A(x,y);~(\,4\,)~(\forall y)(\exists x)A(x,y)$ 

$(\ 3\ )\exists x)(\forall y)A(x,y);\ \ \ (6)\ (\exists y)(\forall x)A(x,y);\ (7)\ (\forall x)(\forall y)A(x,y);\ (8)\ (\forall y)(\forall x)A(x,y)$  



## § 4.3 谓词公式的范式  

命题逻辑中每个命题公式都有一种统一的范式表达方式，当考察一个命题公式性质时，其范式表达方式通常起着非常重要的作用，有时候甚至是决定性作用。类似于命题逻辑，谓词逻辑也希望建立谓词公式的范式。由于谓词公式中存在个体变量和量词，因此其范式的建立比命题公式要复杂得多，而且所建立范式不满足唯一性要求，有的范式甚至不能满足等值。事实上，除了前束范式满足等值性之外，其它谓词公式范式均不满足等值性。值得注意的是，不满足等值性的范式有时也非常有用。例如斯科伦范式虽然不满足等值性，但对保持永真性或永假性具有保持性，可用于谓词逻辑推理。本节主要介绍两类典型的谓词公式范式，一类满足等值性，另一类不满足等值性。  

### 4.3.1 等值型范式  

前束范式是谓词公式中所有范式中唯一满足等值性质的方式。所谓满足等值性质，是指对于任意一个谓词公式，将其做规范化表示后所得到的范式与原谓词公式等值。本小节主要介绍前束范式的概念与构造方法。  

#### 一、前束型公式  

在对谓词公式进行演算或推理等分析处理时，经常需要添加或消除量词。为了便于处理，特别是为了便于计算机的机械化处理，在添加或删除量词之前，将通过等值变换将谓词公式中所有量词移到公式的最前端，由此得到如下前束型谓词公式的概念：  

【定义4.19】假设$G$ 是任意一个谓词公式，如果$G$ 的一切量词都位于该公式的最前端(不含否定词)且这些量词的辖域都延伸到公式的末端，则称$G$ 是一个前束型公式。换句话说，谓词公式$G$ 作为前束型公式必须满足如下表达形式：  

$$
G\Leftrightarrow(Q_{1}x_{1})(Q_{1}x_{2})\cdots(Q_{n}x_{n})M(x_{1},x_{2},\cdots x_{n})\tag{4-11}
$$

其中$Q_{i}$为量词$\forall$或$\exists$，$M$中不能含有任何量词，称$M$为谓词公式$G$ 的母式或基式。  

下列定理保证了谓词公式前束型公式的存在性，但并不能保证唯一性。  

【定理4.2】任意一个含有量词的谓词公式都可以转化为与之等值的前束型公式的形式，但是这种形式并不唯一。  



#### 二、前束范式  

有了前束型公式，就不难得到前束范式。所谓前束范式，其实就是母式为析取范式或合取范式的前束型公式。前束范式的具体定义如下：  

【定义4.20】假设谓词公式$G$ 是任意一个前束型公式，即有：  

$$
G\Leftrightarrow(Q_{1}x_{1})(Q_{1}x_{2})\cdots(Q_{n}x_{n})M(x_{1},x_{2},\cdots x_{n})\tag{4-12}
$$

其中$Q_{i}$为量词$\forall$或$∃$，$M$中不含有任何量词。如果$G$ 的母式$M$是一个析取范式，则称$G$ 是一个前束析取范式；如果$G$的母式$M$是一个合取范式，则称$G$ 是一前束合取范式。前束析取范式和前束合取范式统称为前束范式。  



由于前束型谓词公式中的母式已不再含有量词，表达形式上类似于命题公式，因此可用类似于命题逻辑的方法将前束型公式中的母式转化为析取范式或合取范式，便可得到谓词公式的前束析取范式或者前束合取范式。  

【定理4.3】任意一个含有量词的谓词公式都分别存在与之等值的前束析取范式和前束合取范式，但范式的形式并不唯一。  



### 4.3.2 非等值型范式  

前束范式虽然能够与原谓词公式等值，但是这种范式中的量词的排列不够规整。在谓词逻辑演算或推理中，有时候只需要判断某个公式是否为永真式或者矛盾式，此时并不一定需要等值演算，可以牺牲等值的要求得到一些量词排列更加规整的前束公式或前束范式。例如，可以要求谓词公式中所有存在量词排在所有全称量词的左边，或者保留所有的全称量词而消去所有的存在量词，这些都是所谓斯科伦范式或斯科伦标准型的由来。本小节简要介绍两种基本的斯科伦标准型，即∃型前束范式和无∃型前束范式。  

#### 一、∃型前束范式  

∃型前束范式将所有存在量词排在所有全称量词的左边，具体定义如下：

【定义4.21】假设$G$ 是任意一个谓词公式，如果$G$ 具有如下形式：  
$$
G\Leftrightarrow(\exists x_{1})(\exists x_{2})\cdots(\exists x_{i})(\forall x_{i+1})\cdots(\forall x_{n})M(x_{1},x_{2},\cdots x_{n})\tag{4-13}
$$

即所有存在量词排在所有全称量词的左边且G中至少含有一个存在量词，则称$G$ 是一个∃型前束公式，其中$M(x_{1},x_{2},\cdots x_{n})$为公式的母式，要求既不含任何量词也无任何自由变量。如果∃型前束公式的模式是一个析取范式或合取范式，则称该∃型前束公式为∃型前束范式。    

下面的定理给出了∃型前束范式的存在性以及在永真性保持上的性质。  

【定理4.4】假设$G$ 是任意一个谓词公式，则可将$G$ 转化为一个∃型前束范式，并且G是有效公式当且仅当其∃型前束范式也是一个有效公式。  



该定理表明有效谓词公式与其∃型前束范式等值，当一个谓词公式为有效公式时，便可使用其∃型前束范式进行演算。不过相对于前束范式的构造，∃型前束范式的构造稍微复杂一些，对于任意一个给定的谓词公式，其∃型前束范式的构造方法如下：  

第一步 将该谓词公式转化为前束型公式。  

第二步 将前束型公式转化为∃型前束范式。对于任意一个前束型公式$G$，显然只需将其转化为∃型前束公式即可，具体转化方法需要根据以下几种情况讨论：  

（1）当$G$ 中含有自由变量时，则需要将其每个自由变量分别加上相应的全称量词，使得谓词公式不再含有自由变量，即将公式变成一个闭式；  

（2）当$G$ 中不含自由变量且不含存在量词∃时，则需在公式中引入一个新的一元谓词及相应的个体变量$Q(u)$，得到一个新的公式：$\exists u(\iff G\land(Q(u)\lor\lnot Q(u)))$。然后将$G$中量词的辖域扩大到整个公式，即将$G$中所有量词提到$(G\wedge(Q(u)\vee\neg Q(u)))$的前面；  

（3）当$G$ 中不含自由变量且含有存在量词∃时，则需要通过引入新谓词的方法逐步将存在量词∃左边的全称量词$\forall$转化为存在量词$∃$。  

经过上述过程，便可将任意一个谓词公式转化为∃型前束型公式，从而可进一步转化为∃型前束范式。

#### 二、无∃型前束范式  

另外一种斯科伦范式是仅保留全称量词的前束范式，称之为无∃型前束范式。对于任意一个谓词公式，可由下列方法构造其无∃型前束范式：  

第一步  将该谓词公式转化为前束型公式。  

第二步  将前束型公式转化为无$∃$型前束公式：在含有存在量词的前束型公式中，从左边数第一个存在量词开始，依次消除每个存在量词。消除的规则如下：如果存在量词$\exists x$的左边有$n$个全称量词，则任取一个新的以这些全称量词的指导变元为自变量的𝑛元个体函数取代谓词公式中的所有$x$的出现。特别地，当$n=0$时，即$\exists x$的左边无全称量词，则在消除$\exists x$后，以论域中某个未在公式中出现的个体常量取代谓词公式中的所有$\cdot_{x}$的出现。  

第三步  将无∃型前束型公式中不含量词的部分，即母式部分转化为析取范式或合取范式，便可得到所求的无∃型前束范式。  

【定理4.5】假设$G$ 是任意一个谓词公式，则可将$G$ 转化为一个无∃型前束范式，并且$G$ 是永假公式当且仅当其无∃型前束范式也是一个永假公式。  



该定理表明永假式与其无∃型前束范式等值，当一个谓词公式为永假式时，便可使用其无∃型前束范式进行谓词演算和推理。  

## § 4.4 谓词逻辑的推理  

与命题逻辑类似，谓词逻辑的演绎推理是学习和研究谓词逻辑的主要目的。谓词逻辑的推理演算方法可以看成是命题逻辑推理演算方法的自然延伸。命题逻辑推理系统中的很多概念、等值式、永真蕴含式、推理规则和推证策略都可以在谓词逻辑推理中得到直接应用或类似应用。与命题逻辑推理不同的是，谓词公式中含有个体词、谓词、量词等新概念，具有比命题公式更加丰富、深刻、复杂的表达形式。因此，谓词逻辑推理需要引入一些新的规则来处理这些概念，从而得到比命题逻辑推理更加精细的推理结论。本节主要介绍谓词逻辑推理的基本知识，包括谓词公式的推演系统、谓词推证的基本方法以及谓词推理实例选讲。  

### 4.4.1 谓词公式推演系统  

谓词公式的推演系统与命题公式的推演系统非常类似，主要由有效推理的基本概念、事实库、公理库和推理规则这几个部分组成。事实库和公理库构成谓词公式推理的基本依据，推理规则是谓词公式推理的核心机制。谓词公式推演系统的公理库和推理规则不仅涵盖了命题公式的推演系统的所有相关内容，而且更加丰富、复杂。  

谓词公式有效推理的概念与命题逻辑推理非常相似，具体定义如下：  

【定义4.22】设$G_{1},G_{2}\cdots G_{n}$，$\mathrm{H}$ 是一些谓词公式，如果它们满足下列性质：对于这些公式的任意一个解释I，$G_{1},G_{2}\cdots G_{n}$在该解释下同时为真的情况下$H$在该解释下也为真，则称公式$G_{1},G_{2}\cdots G_{n}$可有效推出公式$\mathrm{H}$，或称由$G_{1},G_{2}\cdots G_{n}$得到H 的逻辑推理为有效推理，记为$G_{1},G_{2}\cdots G_{n}\Rightarrow H$，并称$G_{1},G_{2}\cdots G_{n}$为推理前提，$\mathrm{H}$ 为$G_{1},G_{2}\cdots G_{n}$的逻辑结论。  

从上述定义不难看出，谓词逻辑推理的形式结构与命题逻辑推理的形式结构一致，是命题逻辑推理的自然推广。  

【定理4.6】谓词公式$H$是谓词公式$G_{1},G_{2}\cdots G_{n}$的逻辑结论，当且仅当下式：  

$$
G_{1}\wedge G_{2}\wedge\cdots\wedge G_{n}\to H\tag{4-14}
$$

为有效公式。  



上述定理表明谓词逻辑有效推理的过程就是证明谓词逻辑蕴含式的过程，这与命题逻辑的有效推理完全一致。  

谓词公式的推理依据主要是谓词公式推演系统中的事实库和公理库。事实库由具体谓词逻辑推理实例的所有前提条件以及推理过程中产生的有效中间结论组成；公理库不仅包含命题逻辑推演系统的公理库，即关于命题公式的24 个基本等值式和9 个基本永真蕴含式，而且还包含了关于谓词公式的所有基本等值式和基本逻辑蕴含式，具体可参加本章4.2.4 节中相关内容，这里不再一一罗列。  

现在着重介绍谓词公式的推理规则。由于在谓词合式公式中含有大量的量词，直接对其进行推理显然十分不便。为此，谓词公式推演系统引入一些专门处理量词的规则，以便在需要的时候可以方便地增加或消除量词。谓词逻辑中主要有全称特指、存在特指、全称推广和存在推广这四条基本的量词处理规则，其中全称特指和存在特指消除量词的规则，全称推广和存在推广则是添加量词的规则。下面具体介绍这些规则：  

1. 全称特指规则(简称US 规则)：这条规则具有如下两种基本形式，即：  

$$
(1)\forall x\ P(x)\Rightarrow\ P(y);\ (2)\forall x\ P(x){\Rightarrow}\ P(c)
$$

US 规则的基本含义是：如果$\forall x\;\;P(x)$为真，那么对于论域中任何指定的个体$.c$，必有${P(c)}$为真。其中，$P$ 是谓词，(1)中的$y$ 是任意不在$P(x)$中约束出现的个体变量；(2)中的c为个体域中任意指定的一个个体常量。  

当谓词公式$P(x)$中不含任何量词和其它个体变量时，$US $规则显然不需要附加任何限制条件。但是，若$P(x)$中包含量词或其它个体变量时，(1)式中的约束“$y$ 是任意不在$P(x)$中约束出现的个体变量”就是必须的。例如，设$P(x)=\exists y(x<y)$，则$P(x)$在实数域上显然是真命题。但是，当$P(x)$中的$x$取𝑦时得到的$P(y)=\exists y(y<y)$显然是假命题。因此，限制引入的变量“不是在$P(x)$中约束出现的个体变量”是任何规则在引入变量时必需遵守的约定。  

2. 存在特指规则(简称ES 规则)  

$$
\exists x\ P(x)\Rightarrow\ P(c)
$$

ES 规则的基本含义是：如果$\exists x$ $P(x)$为真，那么在个体域中必然至少存在某一个个体𝑐，使得$P(c)$为真。其中，$c$ 为个体域中使$P$ 成立的特定个体常量。  

当谓词公式$P(x)$中自由变量只是$x$的时候，上述规定可以保证使用ES 规则引入个体符号$c$ 的正确性。但是，如果谓词公式$P(x)$还含有其它自由个体变量，例如还有自由变量𝑦，那么使用ES 规则引入的符号c必须是以𝑦为自变量的个体函数，即$C(y)$。此外，还应当注意，在应用ES 规则时，其指定的个体$c$ 并不是任意含义下的自由变量，$c$ 的本质含义是某个或某些个体。因此，每次使用ES 规则指定的特定个体不能用之前的ES 规则或US 规则确定的个体替代，否则就会引起个体指代的混淆和错误。因为通常不能保证某次ES 指定的个体能够与其它次ES 或US 指定的个体之间具有必然的联系。  

3. 全称推广规则(简称UG 规则)：  

$$
P(\boldsymbol{y})\Rightarrow\ \forall\boldsymbol{x}\ \ P(\boldsymbol{x})
$$
UG 规则的基本含义是：如果个体变量$y$在个体域内取到每一个个体时都有$P(y)$为真，那么必有$\forall x\;\;P(x)$为真。这里要求$x$既不是$P(y)$中约束变量也不是$P(y)$中的自由变量，即要求个体变量$x$不能在$P(y)$中出现。  

4. 存在推广规则(简称EG 规则)：这条规则具有如下两种基本形式，即：  

$$
(1)P(y)\Rightarrow\ \exists x\ P(x);\ (2)P(c)\Rightarrow\ \exists x\ P(x)
$$

UG 规则的基本含义是：如果对于个体域中某个或某些指定的个体$.c$满足$P(c)$为真，那么必有 $\exists x P(x)$为真。其中，(1)式要求$P(y)$中无自由变量$x$；(2)式中要求$c$为个体域中的某个或某些个体常量。  

由以上分析可知，上述四个规则表面上看起来非常简单，但要能够做到真正理解并正确使用则不是一件容易的事情，实际使用时往往稍不注意就会出现错误。



### 4.4.2 谓词推证的基本方法  

我们知道，谓词逻辑是命题逻辑的一种自然扩展，谓词逻辑的知识体系完全涵盖了命题逻辑的知识体系，或者说命题逻辑是谓词逻辑的一种特例。因此，命题逻辑推演系统的全部知识完全可以照搬到命题逻辑推演系统之中，可以将命题推理的T 规则、 规则和CP 规则，以及命题推理的基本策略例如直接证明法和间接证明法等，直接应用于谓词逻辑的推理。  

另外一方面，我们也应该注意到谓词逻辑与命题逻辑之间最大的区别在于谓词逻辑引进了个体域、个体词、量词，以及由此而产生的约束变量和自由变量。因此，在考虑和处理谓词推理问题时，不能单纯地将其看成是命题逻辑推理，还需要根据谓词逻辑的特点采用适当的方法。其中最为关键的是如下几个基本要点：  

第一、在谓词逻辑中，一般无法在不同个体域基础上衡量两个谓词公式之间的等值关系或逻辑蕴含关系，就像两种不同类型的东西无法进行比较一样。因此，在谓词逻辑演算和推理过程中，我们总是假定所有的谓词公式具有相同的个体域，一般默认为全总个体域。  

第二、谓词逻辑推演的基本思路，一般是首先根据$US$和$E S$ 规则消除谓词公式中的量词，把谓词公式的推理问题转化为命题公式的推理问题，在使用命题公式的推理策略和方法完成相关的推理后，再根据具体需要使用UG 和$E G$规则，将基于命题公式的推理结论还原成谓词公式的推理结论。  

第三、在谓词逻辑的推演过程中，可以引用命题演算中的$P$ 规则和$T$ 规则，如果结论是以蕴涵形式或析取形式给出，还可使用$C P$ 规则。对含有量词的公式可以引用谓词中的基本等值公式和基本蕴涵公式，对于已经消去量词的谓词公式或谓词公式中不含量词的子公式，完全可以引用命题演算中的基本等价公式和基本蕴涵公式。  

在谓词演算的推证过程中，必须注意遵守所使用各项推理规则的限制条件，正确合理地使用推理规则。当既需要消除存在量词，由需要消除全称量词的时候，一般都是先消除存在量词，后消除全称量词，被消除或新添加的量词必须位于谓词公式的最左边。当需要推证的结论为蕴含式的时候，可以考虑使用附加前提证明法。当证明给出的前提条件较少且多为蕴含式或析取式时，会感到无从下手，此时可以考虑使用反证法，将结论的否定作为附加前提引入，以增加可用的前提。  

### 4.4.3  谓词推理实例选讲  

在使用谓词逻辑对实际问题进行推理时，需要对问题进行符号化处理。在符号化过程中，首先需要确定个体域，若无特别要求，一般将个体域确定为全总个体域，通过属性谓词限定个体变量的变化范围。然后，选择适当的量词和谓词对问题进行符号化描述，建立问题推证前提条件和结论的谓词公式。  



从上述实例可以看出，谓词逻辑提供了在概念层次上的信息或知识的表达方式，可以实现比命题逻辑更加精细、更加深刻、更加复杂的逻辑推理。  

## § 4.5 谓词逻辑的应用  

谓词逻辑使用抽象数学符号在概念、判断和推理这三个层次上表达人类思维的基本规律，具有一套比较完备严谨的理论体系，是当前能够表达人类思维基本规律的一种最精确的形式语言。谓词逻辑在计算机相关学科的众多领域都发挥着重要的基础性作用，是计算机进行智能信息处理的基本工具和理论基础。在人工智能与知识工程领域，通常使用谓词逻辑强大的信息表达能力进行知识表示和推理；数据库核心技术中最典型的关系数据模型就是使用谓词逻辑表示和处理关系的增删查改等基本操作，形成一整套完备的关系演算语言；还可以使用谓词逻辑进行机器证明和自动问题求解，等等。下面结合具体实例介绍谓词逻辑在人工智能中知识表示以及规划问题自动求解等场合的应用。  

### 4.5.1 摘香蕉问题  

问题定义——

假设某房间里有一只猴子（不妨设想其为机器人），位于$c$ 点；另有一只箱子，位于$a$点；而在$b$ 点的顶棚上吊着一把香蕉，如图4-2 所示。猴子自然希望能得到这把香蕉，但它因身材矮小够不到，当然，如果它站在箱子上便可如愿。但猴子的智慧尚不能像人那样，对将箱子推到香蕉下，踩在箱子上就可摘到香蕉的解决方案一目了然。试为猴子规划一个能摘到香蕉的行动计划。  

解题方法——

可用谓词逻辑进行问题表示和求解

可将该问题的状态描述成有序四元组$(\,W,\,x,\,y,\,z\,)$）。其中，$W$表示“猴子的水平位置”；$x$ 表示“猴子是否在箱顶（在则取1，否则为$_{0})$”；$y$ 表示“箱子的水平位置”；$z$ 表示“猴子是否摘到香蕉（摘到取1，否则为0）”。显然，$W$和$y$ 只能取$a$，$b$，$c$三个值，则基于上述操作性的谓词描述。

其实，在基于谓词逻辑思想的人工只能知识表示法中，还有产生式表示法，该表示法在信息识别和判断等诸多领域都有十分广泛的运用。

### 4.5.2 水容器问题  

问题定义——

设有两个分别能盛7 升与5 升的水容器，初始均为空，允许对容器做以下三种操作：  

（1） 向容器倒满水；  

（2） 将容器中的水倒光；  

（3） 从一个容器倒水至另一个容器，使一个容器倒光或另一容器倒满。最后要求能使大容器（能盛7 升的容器）中有4 升水，并求其操作过程。  

解题方法——

用一个谓词𝑆（𝑢，𝑣）表示两个容器的盛水状态，如𝑆（3，1）表示大容器盛3 升，小容器盛1 升。  

因此在这个问题中的公理系统为：（1）开始时两个容器为空；（2）允许做三种操作。要求得到的结论为：大容器装4 升水，小容器不限。  

上述问题可用如下语句表示：  

开始时两个容器均为空：𝑆（0，0）；  

向大容器倒满水：$(\forall x)\ (\forall y)\ (S\ (x,\ y)\ \to S\ (7,\ y))$；  

向小容器倒满水：$(\forall x)\ (\forall y)\ (S\ (x,\ y)\ \rightarrow S\ (x,\ 5))$；  

将大容器的水倒光：$(\forall x)\ (\forall y)\ (S\ (x,\ y)\ \to S\ (\,0,\ y))$；  

将小容器的水倒光：$(\forall x)\ (\forall y)\ (S\ (x,\ y)\ \rightarrow S\ (x,\ 0))$；  

从容器$x$ 将水倒至$y$，使$x$空：$(∀𝑥)(∀𝑦)(∃𝑧) (𝑆(𝑥，𝑦) →𝑆(0，𝑧))$ ，$𝑥+ 𝑦= 𝑧，𝑧≤5$；

从容器$y$ 将水倒至$x$，使$y$ 空：$(∀𝑥)(∀𝑦)(∃𝑧) (𝑆(𝑥，𝑦) →𝑆(𝑧，0))$，$𝑥+ 𝑦= 𝑧，𝑧≤7$；

从容器$y$ 倒水至$x$，使$x$ 满：$(∀𝑥)(∀𝑦)(∃𝑧) (𝑆(𝑥，𝑦) →𝑆(7，𝑧))$，$𝑥+ 𝑦= 7 + 𝑧$；

从容器$x$ 倒水至$y$，使$y$满：$(\forall x)(\forall y)(\exists z)\left(S\!\left(x,\,\,y\right)\to S\!\left(z,\,\,5\right)\right)$ ，$𝑥+ 𝑦= 𝑧+ 5$。

所求的结论为：$S$（4，0）。  
